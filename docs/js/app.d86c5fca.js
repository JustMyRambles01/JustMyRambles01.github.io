(function(){var e={2088:function(e,t,n){"use strict";var a=n(9197),s=n(8473),r=n(4887);const i=(0,s.Uk)("Mint"),l=(0,s.Uk)(" | "),o=(0,s.Uk)("My NFTs"),d=(0,s.Uk)(" | "),c=(0,s.Uk)("Explore Collection"),u=(0,s.Uk)(" | "),p=(0,s.Uk)("Staking and Leveling Info"),h=(0,s.Uk)(" | "),w=(0,s.Uk)("SVC Tokenomics"),y=(0,s.Uk)(" | "),g={key:0,class:"ri-arrow-down-s-line"},m={key:1,class:"ri-arrow-up-s-line"},f={key:0,class:"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"},k={class:"card-body mt-0 mb-4"},b=(0,s._)("hr",{class:"mt-0 mb-0"},null,-1),v=["href"],T=["href"],C=["href"],_=(0,s._)("hr",{class:"mt-0 mb-0"},null,-1),M={key:1,class:"animate-characters"},x=(0,s._)("hr",{class:"my-4"},null,-1),P=(0,s._)("hr",{class:"my-4"},null,-1);function A(e,t,n,a,A,N){const S=(0,s.up)("router-link"),E=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",null,[(0,s.Wm)(S,{to:"/"},{default:(0,s.w5)((()=>[i])),_:1}),l,(0,s.Wm)(S,{to:"/my-reapers"},{default:(0,s.w5)((()=>[o])),_:1}),d,(0,s.Wm)(S,{to:"/all-reapers"},{default:(0,s.w5)((()=>[c])),_:1}),u,(0,s.Wm)(S,{to:"/info"},{default:(0,s.w5)((()=>[p])),_:1}),h,(0,s.Wm)(S,{to:"/tokenomics"},{default:(0,s.w5)((()=>[w])),_:1}),y,null!==A.stakersAddressShort?((0,s.wg)(),(0,s.iD)("a",{key:0,onClick:t[0]||(t[0]=e=>A.expandWalletAddress=!A.expandWalletAddress)},[(0,s.Uk)((0,r.zw)(A.stakersAddressShort)+" ",1),!1===A.expandWalletAddress?((0,s.wg)(),(0,s.iD)("i",g)):((0,s.wg)(),(0,s.iD)("i",m))])):((0,s.wg)(),(0,s.iD)("a",{key:1,onClick:t[1]||(t[1]=e=>N.loginMM())}," Login "))]),A.expandWalletAddress?((0,s.wg)(),(0,s.iD)("div",f,[(0,s._)("div",k,[b,(0,s._)("a",{class:"dropdown-item",onClick:t[2]||(t[2]=e=>A.expandWalletAddress=!1),href:"https://oasis.cash/collection/"+A.reaperAddress,target:"_blank"}," Buy or Sell Reaperville NFTs on Oasis ",8,v),(0,s._)("a",{class:"dropdown-item mt-0",onClick:t[3]||(t[3]=e=>A.expandWalletAddress=!1),href:"https://app.mistswap.fi/swap?inputCurrency=BCH&outputCurrency=0xE7B1076d0853a7aAa6FbB477886726ed03C6Fffd",target:"_blank"}," Trade SVC on MistSwap "),(0,s._)("a",{class:"dropdown-item",onClick:t[4]||(t[4]=e=>A.expandWalletAddress=!1),href:"https://dexscreener.com/smartbch/0x83c337dc968fde2ed1b8347768d9970f7a925be7",target:"_blank"}," Check the SVC price on Dexscreener "),(0,s._)("a",{class:"dropdown-item",onClick:t[5]||(t[5]=e=>A.expandWalletAddress=!1),href:"https://ville.cash/",target:"_blank"}," Surviville Homepage "),(0,s._)("a",{class:"dropdown-item",onClick:t[6]||(t[6]=e=>A.expandWalletAddress=!1),href:"https://ville.cash/roadmap/",target:"_blank"}," Surviville Roadmap "),(0,s._)("a",{class:"dropdown-item",onClick:t[7]||(t[7]=e=>A.expandWalletAddress=!1),href:"https://t.me/reaperville",target:"_blank"}," Talk to us on Telegram "),(0,s._)("a",{class:"dropdown-item",onClick:t[8]||(t[8]=e=>A.expandWalletAddress=!1),href:"https://twitter.com/SurvivilleCoin",target:"_blank"}," Follow us on Twitter "),(0,s._)("a",{class:"dropdown-item",onClick:t[9]||(t[9]=e=>A.expandWalletAddress=!1),href:"https://www.smartscan.cash/address/"+A.reaperAddress,target:"_blank"}," Inspect Reaperville Contract Activity ",8,T),(0,s._)("a",{class:"dropdown-item",onClick:t[10]||(t[10]=e=>A.expandWalletAddress=!1),href:"https://www.smartscan.cash/address/"+A.rewardTokenAddress,target:"_blank"}," Inspect SVC Contract Activity ",8,C),(0,s._)("span",{onClick:t[11]||(t[11]=e=>{N.addRewardTokenToMM,A.expandWalletAddress=!1}),class:"dropdown-item"}," Add Surviville Coin (SVC) to Metamask "),_])])):(0,s.kq)("",!0),A.wrongNetwork?((0,s.wg)(),(0,s.iD)("h4",M,[x,(0,s._)("strong",null,"Please switch the network to "+(0,r.zw)(A.netName)+".",1),P])):(0,s.kq)("",!0),(0,s.Wm)(E)],64)}var N=n(6719),S=n(2616),E={data(){return{stakersAddressShort:null,signer:null,provider:null,expandWalletAddress:!1,reaperAddress:window.ReaperAddress,rewardTokenAddress:window.RewardTokenAddress,netName:window.netName,wrongNetwork:!1}},mounted:function(){this.provider=new S.Q(window.ethereum,"any"),this.provider.getNetwork().then((e=>{e.chainId!==window.netId&&(this.wrongNetwork=!0,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:N.Dv(window.netId)}]}).catch((e=>{4902===e.code&&window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainName:window.netName,chainId:N.Dv(window.netId),nativeCurrency:{name:"BCH",decimals:18,symbol:"BCH"},rpcUrls:[window.rpcServer],blockExplorerUrls:["https://smartscan.cash/"]}]})})))})),this.provider.on("network",((e,t)=>{t&&window.location.reload()})),this.signer=this.provider.getSigner(),this.signer.getAddress().then((e=>{this.stakersAddressShort=e.substring(0,4)+"..."+e.substring(e.length-4,e.length)}))},methods:{loginMM:function(){window.location.reload()},addRewardTokenToMM:function(){window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:window.RewardTokenAddress,symbol:"SVC",decimals:18}}})}}},R=n(5312);const U=(0,R.Z)(E,[["render",A]]);var I=U;const B={class:"content-body"},F={class:"container"},D={class:"col-xxl-12"},H=(0,s._)("p",null,[(0,s.Uk)("SVC Total max. supply: "),(0,s._)("strong",null,"210 million")],-1),L=(0,s._)("h2",null,"Reaperville Staking Statistics",-1),z=(0,s._)("h4",{class:"mt-4"},"Earnable reward tokens:",-1),O=(0,s._)("ul",null,[(0,s._)("li",null,[(0,s._)("strong",null,"5 million in total for Reaperville")]),(0,s._)("li",null,[(0,s._)("p",null,"1 million in first year")]),(0,s._)("li",null,[(0,s._)("p",null,"2.5 million in first 3 years")])],-1),V={class:"mt-4"},W=(0,s.Uk)(" Total staked power: "),Y=(0,s.Uk)(" Base staking power: "),q=(0,s._)("p",null,"Stake and upgrade add 1% to base staking power",-1),j=(0,s._)("p",null,"Unstake adds 5% to base staking power",-1),$=(0,s._)("p",null,"Emergency unstake adds 0% to base staking power",-1),Z=(0,s.Uk)(" Reward tokens minted: "),X=(0,s.Uk)(" Reaperville total emission rate: "),G=(0,s._)("hr",{class:"mt-4 mb-4"},null,-1),K=(0,s._)("h1",{class:"mb-0 mt-4 animate-characters"}," Everything below is ADMIN ONLY ",-1),Q={key:0,class:"mt-0 mb-4 animate-characters"},J={key:1,class:"mt-0 mb-4 animate-characters"},ee=(0,s._)("hr",{class:"mt-4 mb-4"},null,-1),te=(0,s._)("h2",null,"Reward Token SVC",-1),ne=["disabled"],ae=(0,s.Uk)("   "),se=["disabled"],re=(0,s._)("hr",null,null,-1),ie=(0,s._)("h2",{class:"mb-0"},"Card Contract",-1),le=(0,s._)("div",null,"Initial allowance should be 90626000000000000000000",-1),oe=(0,s.Uk)(" Card contract can still mint "),de=(0,s.Uk)(" SVC = "),ce=(0,s.Uk)(" k SVC "),ue=["disabled"],pe=(0,s.Uk)("   "),he=["disabled"],we=(0,s.Uk)("   "),ye=["disabled"],ge=(0,s._)("br",null,null,-1),me=(0,s._)("h4",null,"Card Game Contract Balances",-1),fe=["disabled"],ke=(0,s._)("br",null,null,-1),be=(0,s._)("h2",{class:"mb-0"},"Reaperville Contract",-1),ve=(0,s.Uk)(" Reaperville contract can still mint "),Te=(0,s.Uk)(" SVC = "),Ce=(0,s.Uk)(" M SVC "),_e=["disabled"],Me=(0,s._)("br",null,null,-1),xe=(0,s._)("h4",null,"Reaper Contract Balances",-1),Pe=["disabled"],Ae=(0,s._)("br",null,null,-1),Ne=(0,s._)("h4",null,"Reaper Mint Price",-1),Se=["disabled"],Ee=(0,s._)("br",null,null,-1),Re=(0,s._)("h2",{class:"mb-0"},"Pause Reaper Mint",-1),Ue=["disabled"],Ie=(0,s.Uk)("   "),Be=["disabled"],Fe=(0,s._)("h2",{class:"mb-0"},"Pause Reaper Staking",-1),De=["disabled"],He=(0,s.Uk)("   "),Le=["disabled"],ze={key:0,class:"popup"},Oe={key:0};function Ve(e,t,n,i,l,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",B,[(0,s._)("div",F,[(0,s._)("div",D,[H,(0,s._)("div",null,[L,z,O,(0,s._)("h4",V,[(0,s._)("p",null,[W,(0,s._)("strong",null,(0,r.zw)(l.totalStakedPower),1)]),(0,s._)("p",null,[Y,(0,s._)("strong",null,(0,r.zw)(l.baseStakingPower)+" == "+(0,r.zw)(Math.round(l.baseStakingPower/l.totalStakedPower*1e4)/100)+"%",1)])]),q,j,$,(0,s._)("h4",null,[(0,s._)("p",null,[Z,(0,s._)("strong",null,(0,r.zw)(Math.round((5*10**24-Number(l.rewardTokenMintAllowanceE0["reaper"]))/10**18))+" SVC",1)]),(0,s._)("p",null,[X,(0,s._)("strong",null,(0,r.zw)(l.rewardTokenEmissionPerHourE18)+" SVC / hour @100% payout",1)]),(0,s._)("p",null," = "+(0,r.zw)(Math.round(24*l.rewardTokenEmissionPerHourE18*365/1e3)/1e3)+" million SVC / year ",1)]),G,K,l.isAdmin?((0,s.wg)(),(0,s.iD)("h2",J," (YOU ARE THE ADMIN) ")):((0,s.wg)(),(0,s.iD)("h2",Q," (You are not logged into the admin wallet) ")),ee,te,(0,s.Uk)(" Update allowance of "+(0,r.zw)(l.newMinterAddress)+" to "+(0,r.zw)(Math.round(l.rewardTokenMintAllowanceE0["newMinter"]/10**18)/1e3)+" k SVC = "+(0,r.zw)(Math.round(l.rewardTokenMintAllowanceE0["newMinter"]/10**21)/1e3)+" M SVC ",1),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[0]||(t[0]=e=>l.rewardTokenMintAllowanceE0["newMinter"]=e)},null,512),[[a.nr,l.rewardTokenMintAllowanceE0["newMinter"]]]),(0,s.wy)((0,s._)("input",{id:"newMinterAddress",type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[1]||(t[1]=e=>l.newMinterAddress=e)},null,512),[[a.nr,l.newMinterAddress]]),(0,s._)("button",{class:"btn btn-success",disabled:!l.isAdmin,onClick:t[2]||(t[2]=e=>o.getRewardTokenMintAllowance("newMinter"))}," Load allowance of "+(0,r.zw)(l.newMinterAddress),9,ne),ae,(0,s._)("button",{class:"btn btn-danger",disabled:!l.isAdmin,onClick:t[3]||(t[3]=t=>e.registerAddressAsMinter(l.newMinterAddress,l.rewardTokenMintAllowanceE0["newMinter"]))}," Update allowance to "+(0,r.zw)(Math.round(l.rewardTokenMintAllowanceE0["newMinter"]/10**21)/1e3)+" M SVC ",9,se),re,ie,le,(0,s._)("div",null,[oe,(0,s._)("strong",null,(0,r.zw)(Math.round(l.rewardTokenMintAllowanceE0["cards"]/10**18)),1),de,(0,s._)("strong",null,(0,r.zw)(Math.round(l.rewardTokenMintAllowanceE0["cards"]/10**18)/1e3),1),ce]),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[4]||(t[4]=e=>l.rewardTokenMintAllowanceE0["cards"]=e)},null,512),[[a.nr,l.rewardTokenMintAllowanceE0["cards"]]]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-success",disabled:!l.isAdmin,onClick:t[5]||(t[5]=e=>o.getRewardTokenMintAllowance("cards"))}," Load allowance of cards contract ",8,ue),pe,(0,s._)("button",{class:"btn btn-danger",disabled:!l.isAdmin,type:"button",onClick:t[6]||(t[6]=e=>o.setNewMintAllowance("cards",l.rewardTokenMintAllowanceE0["cards"]))}," Set new mint allowance ",8,he),we,(0,s._)("button",{class:"btn btn-std",type:"button",disabled:!l.isAdmin,onClick:t[7]||(t[7]=e=>o.resetContract("cards"))}," Reset contract for new round ",8,ye)]),ge,me,(0,s._)("p",null,(0,r.zw)(Math.round(l.bchBalanceE0["cards"]/10**15)/1e3)+" BCH ",1),(0,s._)("p",null,(0,r.zw)(Math.round(l.rewardTokenBalanceE0["cards"]/10**15)/1e3)+" SVC ",1),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-std",type:"button",disabled:l.bchBalanceE0["cards"]<=0||!l.isAdmin,onClick:t[8]||(t[8]=e=>o.withdrawBchFromContract("cards"))}," withdraw BCH ",8,fe)]),ke,be,(0,s._)("div",null,[ve,(0,s._)("strong",null,(0,r.zw)(Math.round(l.rewardTokenMintAllowanceE0["reaper"]/10**18)),1),Te,(0,s._)("strong",null,(0,r.zw)(Math.round(l.rewardTokenMintAllowanceE0["reaper"]/10**21)/1e3),1),Ce]),(0,s.wy)((0,s._)("input",{type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[9]||(t[9]=e=>l.rewardTokenMintAllowanceE0["reaper"]=e)},null,512),[[a.nr,l.rewardTokenMintAllowanceE0["reaper"]]]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-success",disabled:!l.isAdmin,type:"button",onClick:t[10]||(t[10]=e=>o.setNewMintAllowance("reaper",l.rewardTokenMintAllowanceE0["reaper"]))}," Update Reaper's mint allowance ",8,_e)]),Me,xe,(0,s._)("p",null,(0,r.zw)(Math.round(l.bchBalanceE0["reaper"]/10**15)/1e3)+" BCH ",1),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-std",type:"button",disabled:l.bchBalanceE0["reaper"]<=0||!l.isAdmin,onClick:t[11]||(t[11]=e=>o.withdrawBchFromContract("reaper"))}," withdraw BCH ",8,Pe)]),Ae,Ne,(0,s._)("p",null,(0,r.zw)(Math.round(l.reaperBchPerNftE0/10**12)/10**6)+" BCH ",1),(0,s.wy)((0,s._)("input",{id:"reaperBchPerNftE0",type:"text",class:"form-control mx-auto","onUpdate:modelValue":t[12]||(t[12]=e=>l.reaperBchPerNftE0=e)},null,512),[[a.nr,l.reaperBchPerNftE0]]),(0,s._)("div",null,[(0,s._)("button",{class:"btn btn-std",disabled:!l.isAdmin,type:"button",onClick:t[13]||(t[13]=(...e)=>o.setReaperBchPerNftE0&&o.setReaperBchPerNftE0(...e))}," set new price "+(0,r.zw)(Math.round(l.reaperBchPerNftE0/10**12)/10**6)+" BCH ",9,Se)]),Ee,Re,(0,s.Uk)(" Mint is active: "+(0,r.zw)(!l.reaperMintPaused)+" ",1),(0,s._)("p",null,[(0,s._)("button",{onClick:t[14]||(t[14]=e=>o.setReaperMintPaused(!0)),disabled:l.reaperMintPaused||!l.isAdmin,class:"btn btn-danger"}," Pause ",8,Ue),Ie,(0,s._)("button",{onClick:t[15]||(t[15]=e=>o.setReaperMintPaused(!1)),disabled:!l.reaperMintPaused||!l.isAdmin,class:"btn btn-success"}," Unpause ",8,Be)]),Fe,(0,s.Uk)(" Staking is active: "+(0,r.zw)(!l.reaperStakingPaused)+" ",1),(0,s._)("p",null,[(0,s._)("button",{onClick:t[16]||(t[16]=e=>o.setReaperStakingPaused(!0)),disabled:l.reaperStakingPaused||!l.isAdmin,class:"btn btn-danger"}," Pause ",8,De),He,(0,s._)("button",{onClick:t[17]||(t[17]=e=>o.setReaperStakingPaused(!1)),disabled:!l.reaperStakingPaused||!l.isAdmin,class:"btn btn-success"}," Unpause ",8,Le)])])])])]),""!=l.feedbackMessage?((0,s.wg)(),(0,s.iD)("div",ze,[""!=l.feedbackMessage?((0,s.wg)(),(0,s.iD)("h4",Oe,(0,r.zw)(l.feedbackMessage),1)):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)}var We=n(1946),Ye=n(4049),qe=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"MAX_SUPPLY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_to","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addressToCheck","type":"address"}],"name":"remainingMintersAllowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_addressToRemove","type":"address"}],"name":"removeMinter","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_addressToAdd","type":"address"},{"internalType":"uint256","name":"_newAllowance","type":"uint256"}],"name":"updateMintersAllowance","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),je=JSON.parse('{"Mt":[{"inputs":[{"internalType":"contract RewardToken","name":"_rewardToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"uint32","name":"_newBaseStakingPower","type":"uint32"}],"name":"adjustBaseStakingPower","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseExtension","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"baseURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bchPerNft","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"costPerLevel","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16[]","name":"tokenIdArr","type":"uint16[]"}],"name":"emergencyUnstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16","name":"_tokenId","type":"uint16"}],"name":"getLevelView","outputs":[{"internalType":"uint8","name":"level","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"harvest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isMintPausedStakingPaused","outputs":[{"internalType":"bool[2]","name":"","type":"bool[2]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16","name":"_startId","type":"uint16"},{"internalType":"uint16","name":"_endId","type":"uint16"}],"name":"levelsForTokenIds","outputs":[{"internalType":"uint16[]","name":"","type":"uint16[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint8","name":"_mintAmount","type":"uint8"}],"name":"mint","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint8","name":"_mintAmount","type":"uint8"},{"internalType":"address","name":"_receiver","type":"address"}],"name":"mintForAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"royaltiesPctX100","outputs":[{"internalType":"uint16","name":"","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltiesReceiver","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_tokenId","type":"uint256"},{"internalType":"uint256","name":"_salePrice","type":"uint256"}],"name":"royaltyInfo","outputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"royaltyAmount","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_newBaseURI","type":"string"}],"name":"setBaseURI","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newBchPerNft","type":"uint256"}],"name":"setBchPerNft","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_newCostPerLevel","type":"uint16"}],"name":"setCostPerLevel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_newPaused","type":"bool"}],"name":"setMintPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16","name":"_newRoyaltiesPctX100","type":"uint16"}],"name":"setRoyaltiesPercentageTimesHundred","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newRoyaltiesReceiver","type":"address"}],"name":"setRoyaltiesReceiver","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_newPaused","type":"bool"}],"name":"setStakingPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"staker","type":"address"}],"name":"showStakerInfo","outputs":[{"internalType":"uint256[5]","name":"stkd4Scnds_stkrPwr_ttlPwr_basePwr_lastIdx_emmPh","type":"uint256[5]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_staker","type":"address"}],"name":"showStakersEarningsAfterLastTimestamp","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_staker","type":"address"}],"name":"showStakersEarningsUntilLastTimestamp","outputs":[{"internalType":"uint256","name":"earned","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint16[]","name":"tokenIdArr","type":"uint16[]"}],"name":"stake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16[]","name":"tokenIdArr","type":"uint16[]"}],"name":"unstake","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint16[]","name":"tokenIdArr","type":"uint16[]"},{"internalType":"uint8[]","name":"levelIncArr","type":"uint8[]"}],"name":"upgradeLevel","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"}],"name":"walletOfOwner","outputs":[{"internalType":"uint16[]","name":"","type":"uint16[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_owner","type":"address"},{"internalType":"uint16","name":"_maxNftsToReturn","type":"uint16"},{"internalType":"uint16","name":"_slice","type":"uint16"}],"name":"walletOfOwnerWithLevels","outputs":[{"internalType":"uint16[]","name":"","type":"uint16[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),$e=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address[]","name":"_tokenCA","type":"address[]"}],"name":"getInfo","outputs":[{"internalType":"uint32[]","name":"","type":"uint32[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cards2Play","type":"uint256"}],"name":"playWithBch","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_cards2Play","type":"uint256"},{"internalType":"address","name":"_tokenCA","type":"address"},{"internalType":"uint256","name":"costToken","type":"uint256"}],"name":"playWithToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_caToRemove","type":"address"}],"name":"removePaymentToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"reset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenCA","type":"address"},{"internalType":"uint32","name":"_newPriceMilliToken","type":"uint32"}],"name":"setNewPriceToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"_newPaused0IsUnpaused","type":"uint8"}],"name":"setPaused","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"_newMilliBchPerCard","type":"uint8"}],"name":"set_bchPerCardE15","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"withdrawBch","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_ca","type":"address"}],"name":"withdrawToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),Ze={name:"App",components:{},data(){return{rewardTokenContract:null,reaperContract:null,cardsContract:null,reaperBchPerNftE0:"0",newMinterAddress:"",feedbackMessage:"",bchBalanceE0:{},rewardTokenMintAllowanceE0:{},rewardTokenBalanceE0:{},isAdmin:!1,reaperMintPaused:!1,reaperStakingPaused:!1,totalStakedPower:0,baseStakingPower:0,rewardTokenEmissionPerHourE18:0}},methods:{mintRewardToken:async function(e,t){let n=await this.rewardTokenContract.mint(e,Ye.vz(t.toString(),"ether"));await n.wait()},setReaperMintPaused:async function(e){let t=await this.reaperContract.setMintPaused(e);await t.wait(),window.location.reload()},setReaperStakingPaused:async function(e){let t=await this.reaperContract.setStakingPaused(e);await t.wait(),window.location.reload()},setReaperBchPerNftE0:async function(){let e=await this.reaperContract.setBchPerNft(String(this.reaperBchPerNftE0));await e.wait(),window.location.reload()},setMintAllowance:async function(e,t){if(this.feedbackMessage="",0===t){let t=await this.rewardTokenContract.removeMinter(e);await t.wait(),window.location.reload()}else{let n=await this.rewardTokenContract.updateMintersAllowance(e,t);await n.wait(),window.location.reload()}},getContractAddress:function(e){let t;switch(e){case"reaper":t=window.ReaperAddress;break;case"cards":t=window.CardsAddress;break;case"newMinter":t=this.newMinterAddress;break;default:return this.feedbackMessage="Contract not implemented",null}return t},getContract:function(e){let t;switch(e){case"reaper":t=this.reaperContract;break;case"cards":t=this.cardsContract;break;default:return this.feedbackMessage="Contract not implemented",null}return t},withdrawBchFromContract:async function(e){let t=this.getContract(e);if(null===t)return!1;let n=await t.withdrawBch();await n.wait(),window.location.reload()},resetContract:async function(e){let t=this.getContract(e);if(null===t)return!1;let n=await t.reset();await n.wait(),window.location.reload()},setNewMintAllowance:async function(e,t){let n=this.getContractAddress(e);if(null===n)return!1;this.setMintAllowance(n,t)},getRewardTokenMintAllowance:async function(e){let t=this.getContractAddress(e);if(null===t)return!1;this.rewardTokenContract.remainingMintersAllowance(t).then((t=>{this.rewardTokenMintAllowanceE0[e]=String(t)}))},getRewardTokenBalance:async function(e){let t=this.getContractAddress(e);if(null===t)return!1;this.rewardTokenContract.balanceOf(t).then((t=>{this.rewardTokenBalanceE0[e]=String(t)}))},getBchBalance:async function(e){let t=this.getContractAddress(e);if(null===t)return!1;this.provider.getBalance(t).then((t=>{this.bchBalanceE0[e]=String(t)}))}},mounted:function(){this.provider=new S.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.rewardTokenContract=new We.CH(window.RewardTokenAddress,qe.Mt,this.signer),this.reaperContract=new We.CH(window.ReaperAddress,je.Mt,this.signer),this.cardsContract=new We.CH(window.CardsAddress,$e.Mt,this.signer)})).then((()=>{this.signer.getAddress().then((e=>{this.newMinterAddress=e,this.getRewardTokenMintAllowance("newMinter"),e===window.DevAddress&&(this.isAdmin=!0)})),this.reaperContract.showStakerInfo(window.DevAddress).then((e=>{this.totalStakedPower=e[2],this.baseStakingPower=e[3],this.rewardTokenEmissionPerHourE18=String(Math.round(1e5*Ye.dF(e[4]))/1e5)}));const e=["reaper","cards"];for(let t of e)this.getBchBalance(t),this.getRewardTokenBalance(t),this.getRewardTokenMintAllowance(t);this.reaperContract.isMintPausedStakingPaused().then((e=>{this.reaperMintPaused=e[0],this.reaperStakingPaused=e[1]})),this.reaperContract.bchPerNft().then((e=>{this.reaperBchPerNftE0=String(e)}))}))}};const Xe=(0,R.Z)(Ze,[["render",Ve]]);var Ge=Xe;const Ke={class:"text-center container col-lg-8 col-md-9 col-sm-10 mx-auto mt-2 mb-4"},Qe=(0,s.uE)('<h1 class="animate-characters">The Reaperville NFT Collection</h1><h4 class="text-muted"> This collection of colorful reapers is the first NFT collection of the Surviville project. <a target="_blank" href="https://ville.cash/">Learn more about Surviville.</a></h4><div class="col-xxl-4 mx-auto mt-4 mb-4"><img src="/images/avatar/preview.gif" class="img-fluid rounded" alt="Reaperville NFTs Preview"></div>',3),Je={class:"text-muted"},et=(0,s.Uk)(" After minting some Reaperville NFTs, you can stake them "),tt=(0,s.Uk)("here"),nt=(0,s.Uk)(" to earn a passive income stream of Surviville coins. These coins can be used to permanently upgrade the level of your NFTs in order to increase their staking power. "),at=(0,s._)("h4",{class:"text-muted"}," In the future, more use cases will follow — such as giving your NFTs custom names and participating in winning opportunities. ",-1),st=(0,s._)("br",null,null,-1),rt=(0,s._)("h4",{class:"lead text-muted mx-auto my-3"},[(0,s._)("span",null,"You can mint up to 40 NFTs per transaction. "),(0,s._)("span",null,"The NFTs are minted in a non-sequential, randomised order.")],-1),it={class:"mx-auto my-4",id:"nftsMinted"},lt={href:"#nftsMinted"},ot=(0,s._)("h4",{class:"lead text-muted mx-auto my-3"},[(0,s._)("span",null,"Please select how many Reaperville NFTs you want to mint.")],-1),dt={class:"mb-3 mx-auto"},ct={class:"input-group mx-auto"},ut={class:"input-group-prepend mx-auto"},pt=(0,s.Uk)("   "),ht=(0,s.Uk)("   "),wt=(0,s.Uk)("   "),yt=(0,s.Uk)("   "),gt=(0,s.Uk)("   "),mt=(0,s.Uk)("   "),ft=(0,s.Uk)("   "),kt={class:"mb-3 mx-auto"},bt={class:"input-group mx-auto"},vt={class:"input-group-prepend mx-auto"},Tt=["disabled"],Ct={class:"col-lg-8 col-md-8 col-sm-8 mx-auto"},_t=["max"],Mt=["disabled"],xt={class:"row-lg-12"},Pt={class:"column"},At={key:0},Nt={key:1},St={class:"col-lg-6 col-md-8 mx-auto"},Et=["disabled"],Rt={key:1,class:"mt-4"},Ut=(0,s.Uk)(" All Reaperville NFTs have been minted. Visit "),It=["href"],Bt=(0,s.Uk)(" to check if there are some for sale! "),Ft=(0,s._)("br",null,null,-1),Dt={class:"mt-4"},Ht=(0,s._)("br",null,null,-1),Lt={class:"text-muted mt-2"},zt=(0,s._)("h6",{class:"mx-auto text-muted"},[(0,s._)("span",null,"Note that transactions cannot be undone.")],-1),Ot={key:0,class:"popup"},Vt={key:0,class:"text-monospace col-lg-12 col-md-12 mx-auto mt-4 mb-2"},Wt={key:1,class:"text-monospace col-lg-12 col-md-12 mx-auto mt-1 mb-4"};function Yt(e,t,n,i,l,o){const d=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("section",Ke,[Qe,(0,s._)("h4",Je,[et,(0,s.Wm)(d,{to:"/my-reapers"},{default:(0,s.w5)((()=>[tt])),_:1}),nt]),at,st,l.nftsMinted<l.nftsToMintTotal?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h2",null,"For "+(0,r.zw)(l.bchPerNft/10**18)+" BCH you can mint 1 NFT.",1),rt,(0,s._)("h2",it,[(0,s._)("span",null,(0,r.zw)(l.nftsMinted)+" of "+(0,r.zw)(l.nftsToMintTotal)+" NFTs have been minted.",1),(0,s._)("a",lt,[(0,s._)("i",{title:"Reload numbers",onClick:t[0]||(t[0]=e=>o.load()),class:"ri-refresh-fill"})])]),ot,(0,s._)("div",dt,[(0,s._)("div",ct,[(0,s._)("div",ut,[(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[1]||(t[1]=e=>o.setNftsToMint(1))}," 1 "),pt,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[2]||(t[2]=e=>o.setNftsToMint(5))}," 5 "),ht,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[3]||(t[3]=e=>o.setNftsToMint(10))}," 10 "),wt,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[4]||(t[4]=e=>o.setNftsToMint(15))}," 15 "),yt,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[5]||(t[5]=e=>o.setNftsToMint(20))}," 20 "),gt,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[6]||(t[6]=e=>o.setNftsToMint(25))}," 25 "),mt,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[7]||(t[7]=e=>o.setNftsToMint(30))}," 30 "),ft,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[8]||(t[8]=e=>o.setNftsToMint(40))}," 40 ")])])]),(0,s._)("div",kt,[(0,s._)("div",bt,[(0,s._)("div",vt,[(0,s._)("button",{class:"btn btn-std",disabled:l.nftsToMint<=1,onClick:t[9]||(t[9]=e=>o.changeNftsToMint(-1))}," - ",8,Tt),(0,s._)("div",Ct,[(0,s.wy)((0,s._)("input",{id:"tokensToBuy",type:"number",min:"1",max:l.maxNftsPerTx,class:"form-control mx-auto",onChange:t[10]||(t[10]=e=>o.changeNftsToMint(0)),"onUpdate:modelValue":t[11]||(t[11]=e=>l.nftsToMint=e)},null,40,_t),[[a.nr,l.nftsToMint]])]),(0,s._)("button",{class:"btn btn-std",disabled:l.nftsToMint>=l.maxNftsPerTx,onClick:t[12]||(t[12]=e=>o.changeNftsToMint(1))}," + ",8,Mt)])])]),(0,s._)("span",xt,[(0,s._)("span",Pt,[l.nftsToMint>1?((0,s.wg)(),(0,s.iD)("h4",At," Mint "+(0,r.zw)(l.nftsToMint)+" Reaperville NFTs for: ",1)):((0,s.wg)(),(0,s.iD)("h4",Nt,"Mint 1 Reaperville NFT for:")),(0,s._)("div",St,[(0,s._)("button",{id:"buyButtonBch",type:"button",class:"btn btn-std my-2 btn-large",disabled:l.mintPaused||l.bchPerNft<=0,onClick:t[13]||(t[13]=(...e)=>o.mintNFTsWithBCH&&o.mintNFTsWithBCH(...e))},(0,r.zw)(Math.round(l.nftsToMint*l.bchPerNft/10**12)/10**6)+" BCH ",9,Et)])])])],64)):((0,s.wg)(),(0,s.iD)("h2",Rt,[Ut,(0,s._)("a",{href:"https://oasis.cash/collection/"+l.mintContractAddress,target:"_blank"},"Oasis.cash",8,It),Bt])),Ft,(0,s._)("h3",Dt,[(0,s._)("span",null,"Your Balance: "+(0,r.zw)(Math.round(l.stakersBchBalance/10**15)/1e3)+" BCH ",1)]),(0,s._)("h3",null,"You hold "+(0,r.zw)(l.nftsOwned)+" Reaperville NFTs in your wallet.",1),Ht,(0,s._)("h6",Lt,[(0,s._)("span",null,"The gas limit is set to "+(0,r.zw)(l.gasLimit)+" to ensure a successful mint. Unused gas is automatically returned to your wallet. If you lower the gas limit, you risk having failed transactions. If a transaction fails, the gas fee is lost.",1)]),zt]),""!=l.feedbackMessage||l.txInProgress?((0,s.wg)(),(0,s.iD)("div",Ot,[""!=l.feedbackMessage?((0,s.wg)(),(0,s.iD)("h4",Vt,(0,r.zw)(l.feedbackMessage),1)):(0,s.kq)("",!0),l.txInProgress?((0,s.wg)(),(0,s.iD)("h4",Wt," Please wait for the transaction to finish! ")):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)}var qt=n(8391),jt={name:"App",components:{},data(){return{provider:null,signer:null,stakersAddress:"",stakersBchBalance:0,feedbackMessage:"",mintContract:null,mintContractAddress:window.ReaperAddress,mintPaused:!0,nftsToMint:10,maxNftsPerTx:40,bchPerNft:2e16,nftsMinted:0,nftsOwned:0,nftsToMintTotal:2500,txInProgress:!1,gasLimit:25e4}},methods:{getBchBalance:function(){this.provider.getBalance(this.stakersAddress).then((e=>{this.stakersBchBalance=e}))},setNftsToMint:function(e){this.feedbackMessage="",this.nftsToMint=Math.floor(e),this.nftsToMint<1?this.nftsToMint=1:this.nftsToMint>this.maxNftsPerTx&&(this.nftsToMint=this.maxNftsPerTx)},changeNftsToMint:function(e){this.feedbackMessage="",this.nftsToMint=Math.floor(this.nftsToMint)+e,this.nftsToMint<1?this.nftsToMint=1:this.nftsToMint>this.maxNftsPerTx&&(this.nftsToMint=this.maxNftsPerTx)},mintNFTsWithBCH:async function(){await this.load();let e=this.nftsToMintTotal-this.nftsMinted;if(this.nftsToMint>e)return this.feedbackMessage=`There are only ${e} NFTs available for minting!`,this.maxNftsPerTx=e,!1;let t,n=this.bchPerNft*this.nftsToMint,a=Math.min(1e7,this.gasLimit+(this.gasLimit-25e3)*(this.nftsToMint-1));if(console.log("totalCostBchWei: ",n),console.log("Gas limit: ",a),this.stakersBchBalance<n+a)return this.feedbackMessage=`You have ${Math.round(this.stakersBchBalance/10**14)/1e4} BCH in your wallet. You can mint up to ${Math.round(this.stakersBchBalance/Number(this.bchPerNft)-.5)} NFTs with that.`,!1;this.feedbackMessage="Minting your NFTs.",this.txInProgress=!0;try{t=await this.mintContract.mint(this.nftsToMint,{value:n.toString(),gasLimit:a.toString()}),console.log(t),await t.wait(),console.log(t)}catch(r){return this.feedbackMessage="An error occured. Please try again later.",this.txInProgress=!1,!1}console.log("tx hash:",t.hash);const s=await this.provider.getTransaction(t.hash);try{let e=await this.provider.call(s,s.blockNumber);console.log(e),"0x"==e&&(this.feedbackMessage="Congratulations! You successfully minted some NFTs! Visit the staking website to take a look at your NFTs.",this.txInProgress=!1)}catch(r){this.feedbackMessage="An error occured.\nPlease try again later.",this.txInProgress=!1;const e=r.data.replace("Reverted ","");console.log({err:r});let t=qt.ZN("0x"+e.substr(138));console.log("revert reason:",t)}this.load()},load:async function(){this.signer.getAddress().then((e=>{this.stakersAddress=e,this.getBchBalance(),this.mintContract.balanceOf(e).then((e=>{this.nftsOwned=e}))})),this.mintContract.isMintPausedStakingPaused().then((e=>{this.mintPaused=e[0]})),this.mintContract.bchPerNft().then((e=>{this.bchPerNft=e})),this.mintContract.totalSupply().then((e=>{this.nftsMinted=e}))}},mounted:function(){this.provider=new S.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.mintContract=new We.CH(window.ReaperAddress,je.Mt,this.signer)})).then((()=>{this.load()}))}};const $t=(0,R.Z)(jt,[["render",Yt]]);var Zt=$t,Xt=n(4731);const Gt={class:"content-body"};function Kt(e,t,n,a,r,i){const l=(0,s.up)("NftTop"),o=(0,s.up)("Nft");return(0,s.wg)(),(0,s.iD)("div",Gt,[(0,s.Wm)(l,{onRefreshEvent:i.reloadChildren,projectname:"Reaperville",ref:"nftTop"},null,8,["onRefreshEvent"]),(0,s.Wm)(o,{onRefreshEvent:i.reloadChildren,nftCA:r.nftContract,projectname:"Reaperville",pictureLink:"https://raw.githubusercontent.com/Surviville/Reaperville/master/png-low-res/",ref:"nft"},null,8,["onRefreshEvent","nftCA"])])}n(6699);const Qt={key:0,class:"text-center"},Jt=(0,s._)("h5",null,"Please log into Metamask first, then refresh this website...",-1),en=[Jt],tn={key:1,class:"col-xxl-10 col-xl-10 col-lg-10 col-md-10 col-sm-12 mx-auto"},nn={class:"card"},an={class:"card-body"},sn=(0,s._)("span",null,"Before you can upgrade your NFTs, you need to approve the SVC token once.",-1),rn=(0,s.Uk)("   "),ln=(0,s._)("br",null,null,-1),on={key:2,class:"card"},dn={class:"col-xxl-12 col-xl-12 col-lg-12 col-md-12 col-sm-12"},cn={class:"card-body"},un={key:0},pn={key:1},hn=(0,s.Uk)(" Filter "),wn=(0,s._)("i",{class:"ri-arrow-down-s-line"},null,-1),yn=[hn,wn],gn=(0,s.Uk)(" Filter "),mn=(0,s._)("i",{class:"ri-arrow-up-s-line"},null,-1),fn=[gn,mn],kn=(0,s.Uk)("   "),bn=(0,s.Uk)("   "),vn=(0,s.Uk)("   "),Tn=["disabled"],Cn=(0,s.Uk)("   "),_n=["disabled"],Mn=(0,s.Uk)("   "),xn=["disabled"],Pn={key:4},An={key:5},Nn=(0,s._)("hr",{class:"my-0"},null,-1),Sn=(0,s._)("hr",{class:"my-0"},null,-1),En=(0,s._)("br",null,null,-1),Rn={key:0,class:"text-center"},Un={key:1,class:"row"},In={class:"card items"},Bn=["onClick"],Fn={class:"row"},Dn={class:"items-img position-relative"},Hn=["src"],Ln=(0,s.Uk)(" Current:   "),zn={title:"current level"},On=(0,s.Uk)("   "),Vn={title:"current staking power"},Wn={key:1},Yn={class:"row"},qn=["min","max","onUpdate:modelValue","onChange"],jn=(0,s.Uk)(" After upgrade: 🏆 "),$n=["onChange","min","max","onUpdate:modelValue"],Zn={title:"power after upgrade"},Xn={class:"d-flex justify-content-center mt-3"},Gn=["onClick","disabled"],Kn=["onClick","disabled"],Qn=(0,s.Uk)("   "),Jn=["onClick","disabled"],ea=(0,s.Uk)("s"),ta={key:3,class:"popup"},na=(0,s._)("h5",{"mt-4":""},"Loading NFTs...",-1),aa=[na],sa={key:4,class:"popup"},ra={key:0},ia={key:1};function la(e,t,n,i,l,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[null===l.stakersAddress?((0,s.wg)(),(0,s.iD)("div",Qt,en)):(0,s.kq)("",!0),null!==l.stakersAddress&&l.stakersAllowance4LevelingE18<=0?((0,s.wg)(),(0,s.iD)("div",tn,[(0,s._)("div",nn,[(0,s._)("div",an,[sn,rn,(0,s._)("button",{class:"btn btn-std",type:"button",id:"approveRewardToken",onClick:t[0]||(t[0]=(...e)=>o.approveRewardToken&&o.approveRewardToken(...e))}," approve SVC ")])])])):(0,s.kq)("",!0),ln,null!==l.stakersAddress?((0,s.wg)(),(0,s.iD)("div",on,[(0,s._)("div",dn,[(0,s._)("div",cn,[1==l.selectedNfts.length?((0,s.wg)(),(0,s.iD)("h4",un,"1 NFT selected")):((0,s.wg)(),(0,s.iD)("h4",pn,(0,r.zw)(l.selectedNfts.length)+" NFTs selected",1)),!1===l.expandFilter?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn-std",type:"button",onClick:t[1]||(t[1]=e=>l.expandFilter=!l.expandFilter)},yn)):((0,s.wg)(),(0,s.iD)("button",{key:3,class:"btn btn-outline-std",type:"button",onClick:t[2]||(t[2]=e=>l.expandFilter=!l.expandFilter)},fn)),kn,(0,s._)("button",{onClick:t[3]||(t[3]=(...e)=>o.selectVisible&&o.selectVisible(...e)),class:"btn btn-success",style:{"font-size":"14px"}}," Select all "),bn,(0,s._)("button",{onClick:t[4]||(t[4]=(...e)=>o.clearSelection&&o.clearSelection(...e)),class:"btn btn-danger",style:{"font-size":"14px"}}," Clear selection "),vn,(0,s._)("button",{onClick:t[5]||(t[5]=e=>o.upgradeSelectedNfts()),class:"btn btn-success",disabled:l.selectedNfts.length<=0||l.stakersAllowance4LevelingE18<=0||l.stakersBalanceE18<=0||l.stakingPaused,style:{"font-size":"14px"}}," Upgrade "+(0,r.zw)(Math.min(l.selectedNfts.length,l.maxNftsPerTx))+" for "+(0,r.zw)(l.cost2BulkUpgradeE18)+" SVC ",9,Tn),Cn,(0,s._)("button",{onClick:t[6]||(t[6]=(...e)=>o.stakeSelected&&o.stakeSelected(...e)),class:"btn btn-success",disabled:l.selectedNfts.length<=0||l.stakingPaused,style:{"font-size":"14px"}}," Stake "+(0,r.zw)(Math.min(l.selectedNfts.length,l.maxNftsPerTx)),9,_n),Mn,(0,s._)("button",{onClick:t[7]||(t[7]=(...e)=>o.unstakeSelected&&o.unstakeSelected(...e)),class:"btn btn-danger",disabled:l.selectedNfts.length<=0||l.stakingPaused,style:{"font-size":"14px"}}," Unstake "+(0,r.zw)(Math.min(l.selectedNfts.length,l.maxNftsPerTx)),9,xn),l.selectedNfts.length>l.maxLevel?((0,s.wg)(),(0,s.iD)("p",Pn," Note: "+(0,r.zw)(l.maxLevel)+" NFTs max staking and unstaking in 1 transaction ",1)):(0,s.kq)("",!0),l.expandFilter?((0,s.wg)(),(0,s.iD)("ul",An,[Nn,(0,s._)("a",{class:(0,r.C_)(["dropdown-item",null===l.filter?"current":""]),href:"#",onClick:t[8]||(t[8]=e=>o.filterNfts("all"))},"All ("+(0,r.zw)(l.stakersNfts.length)+")",3),(0,s._)("a",{class:(0,r.C_)(["dropdown-item","staked"===l.filter?"current":""]),href:"#",onClick:t[9]||(t[9]=e=>o.filterNfts("staked"))},"Staked ("+(0,r.zw)(l.stakedCount)+")",3),(0,s._)("a",{class:(0,r.C_)(["dropdown-item","unstaked"===l.filter?"current":""]),href:"#",onClick:t[10]||(t[10]=e=>o.filterNfts("unstaked"))},"Unstaked ("+(0,r.zw)(l.unstakedCount)+")",3),Sn])):(0,s.kq)("",!0)])]),En,!1===l.loadingNfts&&l.filteredNfts.length<=0?((0,s.wg)(),(0,s.iD)("h1",Rn,"No NFTs to display")):((0,s.wg)(),(0,s.iD)("div",Un,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.filteredNfts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-xxl-2 col-xl-3 col-lg-4 col-md-4 col-sm-6",key:e},[(0,s._)("div",In,[(0,s._)("div",{class:(0,r.C_)(l.selectedNfts.includes(e)?"card-selected card-body":"card-body"),onClick:t=>o.selectNft(e)},[(0,s._)("div",Fn,[(0,s._)("label",null,[(0,s._)("h5",null,"#"+(0,r.zw)(e),1)])]),(0,s._)("div",Dn,[(0,s._)("img",{src:n.pictureLink+e+".png",class:"img-fluid rounded mb-3",alt:""},null,8,Hn)]),(0,s._)("h6",{onClick:t[11]||(t[11]=(0,a.iM)((()=>{}),["stop"]))},[Ln,(0,s._)("span",zn," 🏆"+(0,r.zw)(l.nftInfo[e].level),1),On,(0,s._)("span",Vn," 🔥"+(0,r.zw)(l.powerForLevel[l.nftInfo[e].level]),1)]),l.nftInfo[e].level>=l.maxLevel?((0,s.wg)(),(0,s.iD)("h6",{key:0,onClick:t[12]||(t[12]=(0,a.iM)((()=>{}),["stop"]))}," Max. level reached! ")):((0,s.wg)(),(0,s.iD)("div",Wn,[(0,s._)("div",Yn,[(0,s.wy)((0,s._)("input",{type:"range",title:"Choose desired level after upgrade",class:"form-control-range",min:l.nftInfo[e].level+1,max:l.maxLevel,id:"levelsToUpgradeSlider","onUpdate:modelValue":t=>l.nftInfo[e].nftLevelAfterUpgrade=t,onChange:t=>o.updateLevelsToUpgrade(e),onClick:t[13]||(t[13]=(0,a.iM)((()=>{}),["stop"]))},null,40,qn),[[a.nr,l.nftInfo[e].nftLevelAfterUpgrade]])]),(0,s._)("h6",{class:"text-muted mx-auto",onClick:t[14]||(t[14]=(0,a.iM)((()=>{}),["stop"]))},[jn,l.nftInfo[e].nftLevelAfterUpgrade<=l.maxLevel?(0,s.wy)(((0,s.wg)(),(0,s.iD)("input",{key:0,type:"number",title:"level after upgrade",onChange:t=>o.updateLevelsToUpgrade(e),min:l.nftInfo[e].level+1,max:l.maxLevel,style:{width:"3em"},"onUpdate:modelValue":t=>l.nftInfo[e].nftLevelAfterUpgrade=t},null,40,$n)),[[a.nr,l.nftInfo[e].nftLevelAfterUpgrade]]):(0,s.kq)("",!0),(0,s._)("span",Zn," 🔥"+(0,r.zw)(l.powerForLevel[l.nftInfo[e].nftLevelAfterUpgrade]),1)])])),(0,s._)("div",Xn,[l.nftInfo[e].staked?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:(0,a.iM)((t=>o.unstake(e)),["stop"]),class:"btn btn-danger",disabled:l.stakingPaused,style:{"font-size":"14px"}}," Unstake ",8,Gn)):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:(0,a.iM)((t=>o.stake(e)),["stop"]),class:"btn btn-std",disabled:l.stakingPaused,style:{"font-size":"14px"}}," Stake ",8,Kn)),Qn,l.stakersAllowance4LevelingE18<=0?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn-std",type:"button",id:"approveRewardToken",onClick:t[15]||(t[15]=(0,a.iM)(((...e)=>o.approveRewardToken&&o.approveRewardToken(...e)),["stop"])),style:{"font-size":"14px"}}," approve SVC ")):((0,s.wg)(),(0,s.iD)("button",{key:3,onClick:(0,a.iM)((t=>o.upgradeSpecificNft(e,l.nftInfo[e].levelsToUpgrade)),["stop"]),class:"btn btn-std",disabled:l.stakersBalanceE18<=0||l.nftInfo[e].level>=l.maxLevel||l.stakingPaused,style:{"font-size":"14px"}},[(0,s.Uk)(" Upgrade "+(0,r.zw)(l.nftInfo[e].levelsToUpgrade)+" level",1),1!=l.nftInfo[e].levelsToUpgrade?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[ea],64)):(0,s.kq)("",!0),(0,s.Uk)(" for "+(0,r.zw)(l.nftInfo[e].levelsToUpgrade*l.costPerLvlE18)+" SVC ",1)],8,Jn))])],10,Bn)])])))),128))]))])):(0,s.kq)("",!0),!0===l.loadingNfts&&null!==l.stakersAddress?((0,s.wg)(),(0,s.iD)("div",ta,aa)):(0,s.kq)("",!0),l.txInProgress||""!=l.feedbackMessage?((0,s.wg)(),(0,s.iD)("div",sa,[""!=l.feedbackMessage?((0,s.wg)(),(0,s.iD)("h4",ra,(0,r.zw)(l.feedbackMessage),1)):(0,s.kq)("",!0),l.txInProgress?((0,s.wg)(),(0,s.iD)("h5",ia,"Waiting for current transaction to finish...")):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)}var oa=n(9700);function da(e,t){let n=e.indexOf(t);return n>-1?e.splice(n,1):console.log("Unstaking an NFT that has not been staked before!"),e}var ca={name:"App",props:["nftCA","projectname","pictureLink"],emits:["refreshEvent"],data(){return{expandFilter:!1,rpc:null,maxLevel:100,costPerLvlE18:100,cost2BulkUpgradeE18:0,powerForLevel:[1e3,1050,1104,1162,1224,1291,1363,1440,1523,1613,1710,1815,1928,2051,2184,2329,2486,2657,2844,3048,3271,3515,3782,4075,4397,4730,5074,5428,5792,6165,6546,6934,7329,7730,8136,8546,8959,9375,9793,10212,10632,11051,11469,11886,12301,12713,13122,13527,13928,14324,14715,15101,15481,15855,16223,16584,16939,17287,17628,17962,18288,18607,18918,19222,19519,19808,20090,20364,20631,20891,21143,21391,21634,21873,22107,22336,22561,22781,22997,23210,23421,23630,23836,24040,24242,24441,24638,24833,25025,25215,25402,25587,25770,25950,26128,26304,26477,26648,26817,26983,27147],maxNftsPerTx:50,showLevelingExplanation:!1,stakersAddress:null,currentCollection:null,stakersBalanceE18:0,stakersAllowance4LevelingE18:0,feedbackMessage:"",nftContract:null,stakingContract:null,rewardTokenContract:null,provider:null,signer:null,loadingNfts:!0,stakersNfts:[],filteredNfts:[],filter:"all",selectedNfts:[],nftInfo:{},stakedCount:0,unstakedCount:0,nftLevel:{},txInProgress:!1,stakingPaused:!0}},methods:{selectNft:function(e){let t=this;t.selectedNfts.indexOf(e)<0?t.selectedNfts.push(e):da(t.selectedNfts,e),t.updateCostForBulkUpgrade()},updateLevelsToUpgrade:function(e){let t=this;t.nftInfo[e].nftLevelAfterUpgrade=Math.round(t.nftInfo[e].nftLevelAfterUpgrade),t.selectedNfts.indexOf(e)<0&&t.selectedNfts.push(e),t.nftInfo[e].nftLevelAfterUpgrade>t.maxLevel?t.nftInfo[e].nftLevelAfterUpgrade=t.maxLevel:t.nftInfo[e].nftLevelAfterUpgrade<t.nftInfo[e].level+1&&(t.nftInfo[e].nftLevelAfterUpgrade=t.nftInfo[e].level+1),t.nftInfo[e].levelsToUpgrade=t.nftInfo[e].nftLevelAfterUpgrade-t.nftInfo[e].level,t.updateCostForBulkUpgrade()},getInitialLevel:function(e){return e<10?10:2500==e?0:9-Math.floor(e/250)},getPower:function(e){return this.powerForLevel[this.nftInfo[e].level]},approveRewardToken:async function(){let e=this;e.feedbackMessage="Approving SVC token",e.txInProgress=!0;try{let t=await e.rewardTokenContract.approve(window.ReaperAddress,oa.Bz,{gasLimit:65e3});await t.wait(),e.rewardTokenContract.allowance(e.stakersAddress,window.ReaperAddress).then((t=>{e.stakersAllowance4LevelingE18=t/10**18})),e.feedbackMessage="",e.txInProgress=!1}catch{e.txInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},stake:async function(e){this.txInProgress=!0,this.feedbackMessage="Staking NFT";try{let t=await this.stakingContract.stake([e],{gasLimit:28e4});await t.wait(),this.txInProgress=!1,this.feedbackMessage="",this.$emit("refreshEvent"),this.load()}catch{this.txInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},unstake:async function(e){this.txInProgress=!0,this.feedbackMessage="Unstaking NFT";try{let t=await this.stakingContract.unstake([e],{gasLimit:29e4});await t.wait(),this.txInProgress=!1,this.feedbackMessage="",this.$emit("refreshEvent"),this.load()}catch{this.txInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},selectVisible:function(){this.feedbackMessage="",this.selectedNfts=[];for(let e of this.filteredNfts)this.selectedNfts.indexOf(e)<0&&this.selectedNfts.push(e);this.updateCostForBulkUpgrade()},clearSelection:function(){this.feedbackMessage="",this.selectedNfts=[],this.updateCostForBulkUpgrade()},stakeSelected:async function(){this.txInProgress=!0,this.feedbackMessage="Staking NFTs";let e=[];for(let t of this.selectedNfts)!1===this.nftInfo[t].staked&&this.filteredNfts.indexOf(t)>-1&&e.length<this.maxNftsPerTx&&e.push(t);if(this.selectedNfts=e.slice(),0===e.length)return this.feedbackMessage="No selected NFT matches all criteria.",this.txInProgress=!1,!1;this.feedbackMessage="Staking selected NFTs.";try{let t=await this.stakingContract.stake(e,{gasLimit:Math.min(1e5+18e4*e.length,9999999)});await t.wait(),this.txInProgress=!1,this.feedbackMessage="",this.$emit("refreshEvent"),this.load()}catch{this.txInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},unstakeSelected:async function(){this.txInProgress=!0,this.feedbackMessage="Unstaking NFTs";let e=[];for(let t of this.selectedNfts)!0===this.nftInfo[t].staked&&this.filteredNfts.indexOf(t)>-1&&e.length<this.maxNftsPerTx&&e.push(t);if(this.selectedNfts=e.slice(),0===e.length)return this.feedbackMessage="No selected NFT matches all criteria.",!1;this.feedbackMessage="Unstaking selected NFTs.";try{let t=await this.stakingContract.unstake(e,{gasLimit:Math.min(125e3+2e5*e.length,9999999)});await t.wait(),this.txInProgress=!1,this.feedbackMessage="",this.$emit("refreshEvent"),this.load()}catch{this.txInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},updateCostForBulkUpgrade:function(){let e=0;this.cost2BulkUpgradeE18=0;for(let t=0;t<this.selectedNfts.length;t++){let n=this.selectedNfts[t],a=this.nftInfo[n].levelsToUpgrade*this.costPerLvlE18;e>=this.maxNftsPerTx?(this.feedbackMessage="Max. number of NFTs selected",da(this.selectedNfts,n),t--):(this.cost2BulkUpgradeE18+=a,e++)}},upgradeSpecificNft:async function(e,t){if(this.txInProgress=!0,this.feedbackMessage="",0===t)return this.feedbackMessage="Can't upgrade 0 levels",!1;let n=this,a=t*n.costPerLvlE18;if(a>n.stakersAllowance4LevelingE18)return n.feedbackMessage="Please increase your SVC token allowance first",!1;if(a>n.stakersBalanceE18)return n.feedbackMessage="SVC token balance is too low",!1;let s=n.nftInfo[e].level;if(s>=n.maxLevel)return n.feedbackMessage="Cannot upgrade "+e+", because it's already at max. level",console.log(n.feedbackMessage),!1;let r=await n.nftContract.ownerOf(e);if(r!==n.stakersAddress&&r!==window.ReaperAddress)return n.feedbackMessage="Cannot upgrade "+e+", because it's not in your wallet",console.log(n.feedbackMessage),!1;n.feedbackMessage="Upgrading 1 NFT by "+t+" levels with "+a+" SVC",console.log(n.feedbackMessage),console.log("Power old= "+n.getPower(e)),console.log("Level old= "+s),console.log("Balance old= "+n.stakersBalanceE18);let i=n.stakersBalanceE18-a;console.log("Balance new= "+i);try{let a=await n.stakingContract.upgradeLevel([e],[t],{gasLimit:24e4});await a.wait(),await n.stakingContract.getLevelView(e).then((t=>{n.nftInfo[e]={level:t,nftLevelAfterUpgrade:t+1,levelsToUpgrade:1}})),n.sortNfts(),n.txInProgress=!1,n.feedbackMessage="",n.$emit("refreshEvent")}catch{this.txInProgress=!1,this.feedbackMessage="The transaction failed 😢"}},upgradeSelectedNfts:async function(){this.feedbackMessage="";let e=this;if(e.cost2BulkUpgradeE18>e.stakersAllowance4LevelingE18)return e.feedbackMessage="Please increase your SVC token allowance first",!1;if(e.cost2BulkUpgradeE18>e.stakersBalanceE18)return e.feedbackMessage="SVC token balance is too low",!1;if(e.selectedNfts.length<1)return e.feedbackMessage="No NFTs selected",!1;if(1==e.selectedNfts.length){let t=e.selectedNfts[0],n=e.nftInfo[t].level;if(n>=e.maxLevel)return e.feedbackMessage="Cannot upgrade "+t+", because it's already at max. level",console.log(e.feedbackMessage),!1;let a=await this.nftContract.ownerOf(t);if(a!==e.stakersAddress&&a!==window.ReaperAddress)return e.feedbackMessage="You don't own "+t,console.log(e.feedbackMessage),!1;e.feedbackMessage="Upgrading 1 NFT by "+e.nftInfo[t].levelsToUpgrade+" levels",console.log(e.feedbackMessage),console.log("Level old= "+n),console.log("Balance old= "+e.stakersBalanceE18);let s=e.stakersBalanceE18-e.cost2BulkUpgradeE18;console.log("Balance new= "+s),this.txInProgress=!0;try{let n=await e.stakingContract.upgradeLevel([t],[e.nftInfo[t].levelsToUpgrade],{gasLimit:24e4});await n.wait(),await e.stakingContract.getLevelView(t).then((n=>{e.nftInfo[t]={level:n,nftLevelAfterUpgrade:n+1,levelsToUpgrade:1}})),e.sortNfts(),e.$emit("refreshEvent")}catch{this.txInProgress=!1,this.feedbackMessage="The transaction failed 😢"}}else if(e.selectedNfts.length>1){let t=[],n=[];e.feedbackMessage="Double checking selected NFTs";for(let s=0;s<e.selectedNfts.length&&t.length<e.maxNftsPerTx;s++){let a=e.selectedNfts[s];0!==e.nftInfo[a].levelsToUpgrade?e.nftInfo[a].level>=e.maxLevel?e.feedbackMessage+=" — Skipping "+a+" (already at max level)":(t.push(e.selectedNfts[s]),n.push(e.nftInfo[a].levelsToUpgrade),console.log("Adding "+a),console.log(t)):e.feedbackMessage+=" — Skipping "+a+" (0 SVC upgrade)"}e.feedbackMessage+=" — "+t.length+" NFTs passed all checks",console.log(t),console.log(n),console.log("Bulk Upgrade Cost= "+e.cost2BulkUpgradeE18),console.log("Balance old="+e.stakersBalanceE18);let a=e.stakersBalanceE18-e.cost2BulkUpgradeE18;if(console.log("Balance after bulk upgrade: ",a),t.length<=0)return!1;e.feedbackMessage+=" — Upgrading NFTs ["+t+"] by ["+n+"] levels",this.txInProgress=!0;try{let e=await this.stakingContract.upgradeLevel(t,n,{gasLimit:Math.min(7e4+16e4*t.length,9999999)});await e.wait(),this.$emit("refreshEvent"),this.load()}catch{this.txInProgress=!1,this.feedbackMessage="The transaction failed 😢"}}},filterNfts:function(e){let t=this;switch(t.expandFilter=!1,t.filter=e,e){case"all":t.filteredNfts=t.stakersNfts;break;case"staked":t.filteredNfts=t.stakersNfts.filter((e=>!0===t.nftInfo[e].staked));break;case"unstaked":t.filteredNfts=t.stakersNfts.filter((e=>!1===t.nftInfo[e].staked));break;default:t.feedbackMessage="Filter not implemented"}},getWalletOfOwner:async function(e){let t=this;const n=500;return new Promise(((a,s)=>{let r=0,i=0;console.log("slice=",e),t.nftContract.walletOfOwnerWithLevels(t.stakersAddress,n,e).then((e=>{console.log("tokensLevels=",e),r=e.length,2*Math.floor(e.length/2)+1!==e.length&&console.log("Critical error! tokenLevelsLength should always be an odd number! tokenLevelsLength=",r),i=e[e.length-1];for(let n=0;n<e.length-1;n+=2){let a=Number(e[n]),s=Number(e[n+1]),r=!1;s>t.maxLevel?(s-=1e3,r=!1,t.unstakedCount++):(r=!0,t.stakedCount++),0===s&&(s=t.getInitialLevel(a)),t.stakersNfts.push(a),t.nftInfo[a]={staked:r,level:s,nftLevelAfterUpgrade:s+1,levelsToUpgrade:1}}})).then((()=>{(e+1)*n<i?(console.log("tokenLevelsLength",r),t.getWalletOfOwner(e+1).then((()=>{a()}))):a()})).catch((()=>{s()}))}))},sortNfts:function(){let e=this;e.stakersNfts.sort((function(t,n){return e.nftInfo[n].staked-e.nftInfo[t].staked||e.nftInfo[n].level-e.nftInfo[t].level||t-n}))},reload:function(){this.rewardTokenContract.balanceOf(this.stakersAddress).then((e=>{this.stakersBalanceE18=e/10**18})),this.rewardTokenContract.allowance(this.stakersAddress,window.ReaperAddress).then((e=>{this.stakersAllowance4LevelingE18=e/10**18}))},load:async function(){let e=this;e.loadingNfts=!0,this.txInProgress=!1,this.feedbackMessage="",e.selectedNfts=[],e.filteredNfts=[],e.stakersNfts=[],e.stakedCount=0,e.unstakedCount=0,e.stakersAddress=await e.signer.getAddress(),e.stakingContract.isMintPausedStakingPaused().then((t=>{console.log(t),e.stakingPaused=t[1]})),e.rewardTokenContract.balanceOf(e.stakersAddress).then((t=>{e.stakersBalanceE18=t/10**18})),e.rewardTokenContract.allowance(e.stakersAddress,window.ReaperAddress).then((t=>{e.stakersAllowance4LevelingE18=t/10**18})),e.getWalletOfOwner(0).then((()=>{e.sortNfts(),console.log("calling filter"),e.filterNfts(e.filter),e.loadingNfts=!1}))}},mounted:function(){this.rpc=window.ethereum,this.provider=new S.Q(this.rpc,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.nftContract=new We.CH(this.nftCA.toString(),je.Mt,this.signer),this.stakingContract=new We.CH(window.ReaperAddress,je.Mt,this.signer),this.rewardTokenContract=new We.CH(window.RewardTokenAddress,qe.Mt,this.signer)})).then((()=>{this.load()}))}};const ua=(0,R.Z)(ca,[["render",la]]);var pa=ua;const ha={key:0,class:"container text-start"},wa={class:"row"},ya={class:"col-xxl-6 mx-auto"},ga={class:"card"},ma={class:"card-body"},fa={class:"col-12 align-items-left"},ka={class:"animate-characters"},ba=(0,s.Uk)("   "),va={href:"#"},Ta=(0,s._)("br",null,null,-1),Ca=(0,s._)("br",null,null,-1),_a=(0,s._)("br",null,null,-1),Ma=(0,s._)("br",null,null,-1),xa={key:0},Pa={key:1},Aa=(0,s._)("br",null,null,-1),Na=(0,s._)("br",null,null,-1),Sa={key:1,class:"settings-menu"},Ea=(0,s._)("i",{class:"ri-arrow-down-s-line"},null,-1),Ra=(0,s._)("i",{class:"ri-arrow-up-s-line"},null,-1),Ua={key:2},Ia=(0,s._)("br",null,null,-1),Ba={class:"settings-menu"},Fa=["disabled"],Da=(0,s.Uk)("   "),Ha=(0,s._)("a",{target:"_blank",href:"https://app.mistswap.fi/swap?inputCurrency=BCH&outputCurrency=0xE7B1076d0853a7aAa6FbB477886726ed03C6Fffd",class:"btn btn-std"}," Trade SVC at MistSwap ",-1);function La(e,t,n,a,i,l){return null!==i.stakersAddress?((0,s.wg)(),(0,s.iD)("div",ha,[(0,s._)("div",wa,[(0,s._)("div",ya,[(0,s._)("div",ga,[(0,s._)("div",ma,[(0,s._)("div",fa,[(0,s._)("h4",null,[(0,s._)("span",ka,(0,r.zw)(n.projectname)+" NFTs — Staking and Leveling ",1),ba,(0,s._)("a",va,[(0,s._)("i",{title:"Reload numbers",onClick:t[0]||(t[0]=t=>e.$emit("refreshEvent")),class:"ri-refresh-fill"})])]),(0,s._)("h5",null,"Balance: "+(0,r.zw)(i.stakersRewardTokenBalance)+" SVC",1),Ta,(0,s._)("h5",{onRefreshEvent:t[1]||(t[1]=(...e)=>l.reload&&l.reload(...e))}," Staking power: "+(0,r.zw)(i.stakersPower)+"🔥 ",33),Ca,i.stakersPower>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h5",null," Staked for "+(0,r.zw)(l.formatSeconds(i.stakerStakedForSeconds))+". (Harvest and unstake reset the timer.) ",1),_a,(0,s._)("h5",null,[(0,s._)("strong",null,"Current payout level: "+(0,r.zw)(i.stakersPayoutPct)+"%",1)]),Ma,i.stakerNextPayoutPctInSeconds>0?((0,s.wg)(),(0,s.iD)("h5",xa," Next payout level: "+(0,r.zw)(i.stakersNextPayoutPct)+"% — reached in "+(0,r.zw)(l.formatSeconds(i.stakerNextPayoutPctInSeconds)),1)):((0,s.wg)(),(0,s.iD)("h5",Pa," Congratulations! You reached the highest payout level. "))],64)):(0,s.kq)("",!0),Aa,(0,s._)("h6",null,"Total staked power: "+(0,r.zw)(i.totalStakedPower)+"🔥",1),(0,s._)("h6",null," Total SVC Emission: ~"+(0,r.zw)(Math.round(i.womEmissionPerHour*i.earningsTime*100)/100)+" SVC / "+(0,r.zw)(i.hoursInWords[i.earningsTime]),1),Na,i.womEmissionPerHour&&i.totalStakedPower&&i.stakersPower?((0,s.wg)(),(0,s.iD)("div",Sa,[!1===i.expandEarnings?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-std",onClick:t[2]||(t[2]=e=>i.expandEarnings=!i.expandEarnings)},[(0,s.Uk)(" Earning ~"+(0,r.zw)(Math.round(i.stakerEarningRateX1k*i.earningsTime)/1e3)+" SVC / "+(0,r.zw)(i.hoursInWords[i.earningsTime])+" (@100%) ",1),Ea])):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-outline-std",onClick:t[3]||(t[3]=e=>i.expandEarnings=!i.expandEarnings)},[(0,s.Uk)(" Earning ~"+(0,r.zw)(Math.round(i.stakerEarningRateX1k*i.earningsTime)/1e3)+" SVC / "+(0,r.zw)(i.hoursInWords[i.earningsTime])+" (@100%) ",1),Ra])),i.expandEarnings?((0,s.wg)(),(0,s.iD)("ul",Ua,[(0,s._)("span",{class:(0,r.C_)(["dropdown-item",1===i.earningsTime?"current":""]),onClick:t[4]||(t[4]=e=>{i.earningsTime=1,i.expandEarnings=!1})}," Earning ~"+(0,r.zw)(Math.round(1*i.stakerEarningRateX1k)/1e3)+" SVC / hour (@100%) ",3),(0,s._)("span",{class:(0,r.C_)(["dropdown-item",24===i.earningsTime?"current":""]),onClick:t[5]||(t[5]=e=>{i.earningsTime=24,i.expandEarnings=!1})}," Earning ~"+(0,r.zw)(Math.round(24*i.stakerEarningRateX1k)/1e3)+" SVC / day (@100%) ",3),(0,s._)("span",{class:(0,r.C_)(["dropdown-item",168===i.earningsTime?"current":""]),onClick:t[6]||(t[6]=e=>{i.earningsTime=168,i.expandEarnings=!1})}," Earning ~"+(0,r.zw)(Math.round(168*i.stakerEarningRateX1k)/1e3)+" SVC / week (@100%) ",3),(0,s._)("span",{class:(0,r.C_)(["dropdown-item",720===i.earningsTime?"current":""]),onClick:t[7]||(t[7]=e=>{i.earningsTime=720,i.expandEarnings=!1})}," Earning ~"+(0,r.zw)(Math.round(720*i.stakerEarningRateX1k)/1e3)+" SVC / month (@100%) ",3),(0,s._)("span",{class:(0,r.C_)(["dropdown-item",8760===i.earningsTime?"current":""]),onClick:t[8]||(t[8]=e=>{i.earningsTime=8760,i.expandEarnings=!1})}," Earning ~"+(0,r.zw)(Math.round(8760*i.stakerEarningRateX1k)/1e3)+" SVC / year (@100%) ",3)])):(0,s.kq)("",!0)])):(0,s.kq)("",!0),Ia,(0,s._)("div",Ba,[(0,s._)("button",{class:"btn btn-std",onClick:t[9]||(t[9]=(...e)=>l.harvest&&l.harvest(...e)),disabled:i.stakingPaused||0==i.rewardTokenToHarvest}," Harvest "+(0,r.zw)(Math.round(i.stakersPayoutPct*i.rewardTokenToHarvest*10)/1e3)+" SVC ",9,Fa),Da,Ha])])])])])])])):(0,s.kq)("",!0)}var za={name:"App",props:["projectname"],data(){return{expandEarnings:!1,rewardTokenContract:null,nftContract:null,stakingContract:null,provider:null,signer:null,womEmissionPerHour:null,stakersAddress:null,stakerStakedForSeconds:null,SECONDS_PER_DAY:86400,stakersPayoutPct:null,stakersNextPayoutPct:null,stakerNextPayoutPctInSeconds:null,stakersPower:null,totalStakedPower:null,baseStakingPower:null,stakerEarningRateX1k:null,earningsTime:168,hoursInWords:{1:"hour",24:"day",168:"week",720:"month",8760:"year"},rewardTokenToHarvest:0,stakingPaused:!0,stakersRewardTokenBalance:0}},methods:{harvest:async function(){let e=await this.stakingContract.harvest();await e.wait(),this.$emit("refreshEvent")},approve:async function(){let e=await this.nftContract.setApprovalForAll(window.ReaperAddress,!0);await e.wait(),window.location.reload()},formatSeconds:function(e){e=Number(e);var t=Math.floor(e/86400),n=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60),r=t>0?t+" d, ":"",i=n>0?n+" h, ":"",l=a>0?a+" min, ":"",o=s+" sec";return r+i+l+o},loadStakerInfo:function(){this.stakingContract.showStakerInfo(this.stakersAddress).then((e=>{let t=e[0];if(this.stakerStakedForSeconds=t,t>30*this.SECONDS_PER_DAY)this.stakersPayoutPct=115,this.stakersNextPayoutPct=115,this.stakerNextPayoutPctInSeconds=0;else if(t<19*this.SECONDS_PER_DAY){let e=Math.floor(t/this.SECONDS_PER_DAY);this.stakersPayoutPct=5*(e+1),this.stakersNextPayoutPct=this.stakersPayoutPct+5,this.stakerNextPayoutPctInSeconds=(e+1)*this.SECONDS_PER_DAY-t}else this.stakersPayoutPct=100,this.stakersNextPayoutPct=115,this.stakerNextPayoutPctInSeconds=30*this.SECONDS_PER_DAY-t;this.stakersPower=e[1],this.totalStakedPower=e[2],this.baseStakingPower=e[3],this.womEmissionPerHour=String(Math.round(1e5*Ye.dF(e[4]))/1e5),this.stakerEarningRateX1k=this.womEmissionPerHour*this.stakersPower/(this.totalStakedPower-this.baseStakingPower)*1e3})),this.rewardTokenToHarvest=0,this.stakingContract.showStakersEarningsUntilLastTimestamp(this.stakersAddress).then((e=>{this.rewardTokenToHarvest+=Math.round(1e5*Ye.dF(e))/1e5})),this.stakingContract.showStakersEarningsAfterLastTimestamp(this.stakersAddress).then((e=>{this.rewardTokenToHarvest+=Math.round(1e5*Ye.dF(e))/1e5})),this.stakingContract.isMintPausedStakingPaused().then((e=>{this.stakingPaused=e[1]}))},getRewardTokenBalance:function(){this.rewardTokenContract.balanceOf(this.stakersAddress).then((e=>{this.stakersRewardTokenBalance=String(Math.round(1e5*Ye.dF(e))/1e5)}))},reload:function(){this.getRewardTokenBalance(),this.loadStakerInfo()},load:function(){this.signer.getAddress().then((e=>{this.stakersAddress=e,this.loadStakerInfo(),this.getRewardTokenBalance()}))}},mounted:function(){this.provider=new S.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.rewardTokenContract=new We.CH(window.RewardTokenAddress,qe.Mt,this.signer),this.stakingContract=new We.CH(window.ReaperAddress,je.Mt,this.signer)})).then((()=>{this.load()}))}};const Oa=(0,R.Z)(za,[["render",La]]);var Va=Oa,Wa={name:"App",components:{Nft:pa,NftTop:Va},data(){return{nftContract:window.ReaperAddress}},methods:{reloadChildren:function(){this.$refs.nftTop.reload(),this.$refs.nft.reload()}}};const Ya=(0,R.Z)(Wa,[["render",Kt]]);var qa=Ya;const ja={class:"content-body"};function $a(e,t,n,a,r,i){const l=(0,s.up)("AllNfts");return(0,s.wg)(),(0,s.iD)("div",ja,[(0,s.Wm)(l,{pictureLink:r.pictureLink,projectname:"Reaperville"},null,8,["pictureLink"])])}const Za=(0,s.uE)('<div class="col-12"><div class="card"><div class="card-body"><div class="row"><div class="col-xxl-10 col-xl-10 col-lg-10 col-md-10 col-sm-12 mx-auto"><div class="card-body"><h2 class="animate-characters"> Explore the colorful Reaperville NFT collection on SmartBch! </h2><h4> Which one is your favorite? Let us know in the <a href="https://t.me/reaperville" target="_blank">official Reaperville Telegram group</a>. </h4></div></div></div></div></div></div>',1),Xa={class:"col-12"},Ga={class:"card filter-tab"},Ka={class:"card-body bs-0 p-0 bg-transparent"},Qa={class:"row"},Ja={class:"col-xxl-10 col-xl-10 col-lg-10 col-md-10 col-sm-12 mx-auto"},es={class:"card-body"},ts=(0,s._)("i",{class:"ri-arrow-down-s-line"},null,-1),ns=(0,s._)("i",{class:"ri-arrow-up-s-line"},null,-1),as=(0,s.Uk)("   "),ss=(0,s._)("i",{class:"ri-arrow-down-s-line"},null,-1),rs=(0,s._)("i",{class:"ri-arrow-up-s-line"},null,-1),is=(0,s.Uk)("   "),ls={key:6,class:"mt-3"},os=(0,s._)("hr",{class:"my-0"},null,-1),ds=["onClick"],cs=(0,s._)("hr",{class:"my-0"},null,-1),us={key:7,class:"mt-3"},ps=(0,s._)("hr",{class:"my-0"},null,-1),hs=(0,s._)("hr",{class:"my-0"},null,-1),ws=(0,s._)("br",null,null,-1),ys={class:"row"},gs={class:"card items"},ms={class:"card-body"},fs={class:"card-title"},ks={class:"items-img position-relative"},bs=["src"];function vs(e,t,n,a,i,l){return(0,s.wg)(),(0,s.iD)(s.HY,null,[Za,(0,s._)("div",Xa,[(0,s._)("div",Ga,[(0,s._)("div",Ka,[(0,s._)("div",Qa,[(0,s._)("div",Ja,[(0,s._)("div",es,[!1===i.expandRange?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-std",type:"button",onClick:t[0]||(t[0]=e=>i.expandRange=!i.expandRange)},[(0,s.Uk)(" Showing "+(0,r.zw)(i.startIdx)+" - "+(0,r.zw)(i.startIdx+i.maxNftsPerPage-1)+" ",1),ts])):((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-outline-std",type:"button",onClick:t[1]||(t[1]=e=>i.expandRange=!i.expandRange)},[(0,s.Uk)(" Showing "+(0,r.zw)(i.startIdx)+" - "+(0,r.zw)(i.startIdx+i.maxNftsPerPage-1)+" ",1),ns])),as,!1===i.expandMaxNftsPerPage?((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn-std",type:"button",onClick:t[2]||(t[2]=e=>i.expandMaxNftsPerPage=!i.expandMaxNftsPerPage)},[(0,s.Uk)(" Max. "+(0,r.zw)(i.maxNftsPerPage)+" NFTs ",1),ss])):((0,s.wg)(),(0,s.iD)("button",{key:3,class:"btn btn-outline-std",type:"button",onClick:t[3]||(t[3]=e=>i.expandMaxNftsPerPage=!i.expandMaxNftsPerPage)},[(0,s.Uk)(" Max. "+(0,r.zw)(i.maxNftsPerPage)+" NFTs ",1),rs])),is,i.imgResolutionIdx>0?((0,s.wg)(),(0,s.iD)("button",{key:4,class:"btn btn-outline-std",type:"button",onClick:t[4]||(t[4]=e=>i.imgResolutionIdx=(i.imgResolutionIdx+1)%2)}," Resolution: Full ")):((0,s.wg)(),(0,s.iD)("button",{key:5,class:"btn btn-std",type:"button",onClick:t[5]||(t[5]=e=>i.imgResolutionIdx=(i.imgResolutionIdx+1)%2)}," Resolution: Low ")),i.expandRange?((0,s.wg)(),(0,s.iD)("ul",ls,[os,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(Math.ceil(2500/i.maxNftsPerPage),(e=>((0,s.wg)(),(0,s.iD)("a",{key:e,class:(0,r.C_)(["dropdown-item",i.startIdx===(e-1)*i.maxNftsPerPage?"current":""]),href:"#",onClick:t=>l.load((e-1)*i.maxNftsPerPage+1,i.maxNftsPerPage)}," Show "+(0,r.zw)((e-1)*i.maxNftsPerPage+1)+" - "+(0,r.zw)(Math.min(e*i.maxNftsPerPage,2500)),11,ds)))),128)),cs])):(0,s.kq)("",!0),i.expandMaxNftsPerPage?((0,s.wg)(),(0,s.iD)("ul",us,[ps,(0,s._)("a",{class:(0,r.C_)(["dropdown-item",10===i.maxNftsPerPage?"current":""]),href:"#",onClick:t[6]||(t[6]=e=>l.load(i.startIdx,10))},"Max. 10",2),(0,s._)("a",{class:(0,r.C_)(["dropdown-item",25===i.maxNftsPerPage?"current":""]),href:"#",onClick:t[7]||(t[7]=e=>l.load(i.startIdx,25))},"Max. 25",2),(0,s._)("a",{class:(0,r.C_)(["dropdown-item",50===i.maxNftsPerPage?"current":""]),href:"#",onClick:t[8]||(t[8]=e=>l.load(i.startIdx,50))},"Max. 50",2),(0,s._)("a",{class:(0,r.C_)(["dropdown-item",75===i.maxNftsPerPage?"current":""]),href:"#",onClick:t[9]||(t[9]=e=>l.load(i.startIdx,75))},"Max. 75",2),(0,s._)("a",{class:(0,r.C_)(["dropdown-item",125===i.maxNftsPerPage?"current":""]),href:"#",onClick:t[10]||(t[10]=e=>l.load(i.startIdx,125))},"Max. 125",2),hs])):(0,s.kq)("",!0)])])]),ws,(0,s._)("div",ys,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.filteredNfts,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"col-xxl-3 col-xl-4 col-lg-4 col-md-6 col-sm-6",key:e},[(0,s._)("div",gs,[(0,s._)("div",ms,[(0,s._)("label",null,[(0,s._)("h4",fs," #"+(0,r.zw)(e)+"   ",1)]),(0,s._)("div",ks,[(0,s._)("img",{src:n.pictureLink[i.imgResolutionIdx]+e+".png",class:"img-fluid rounded mb-3"},null,8,bs)])])])])))),128))])])])])],64)}var Ts={name:"App",props:["pictureLink","projectname"],emits:["updateStakingPowerEvent"],data(){return{expandRange:!1,expandMaxNftsPerPage:!1,maxLevel:100,powerForLevel:[1e3,1050,1104,1162,1224,1291,1363,1440,1523,1613,1710,1815,1928,2051,2184,2329,2486,2657,2844,3048,3271,3515,3782,4075,4397,4730,5074,5428,5792,6165,6546,6934,7329,7730,8136,8546,8959,9375,9793,10212,10632,11051,11469,11886,12301,12713,13122,13527,13928,14324,14715,15101,15481,15855,16223,16584,16939,17287,17628,17962,18288,18607,18918,19222,19519,19808,20090,20364,20631,20891,21143,21391,21634,21873,22107,22336,22561,22781,22997,23210,23421,23630,23836,24040,24242,24441,24638,24833,25025,25215,25402,25587,25770,25950,26128,26304,26477,26648,26817,26983,27147],filteredNfts:[],maxNftsPerPage:25,startIdx:1,imgResolutionIdx:0}},methods:{getInitialLevel:function(e){return e<10?10:2500==e?0:9-Math.floor(e/250)},getPower:function(e){return this.powerForLevel[this.nftInfo[e].level]},load:async function(e,t){let n=this;n.expandRange=!1,n.expandMaxNftsPerPage=!1,e<1&&(e=1),this.maxNftsPerPage=t,this.startIdx=e,n.filteredNfts=[];for(let a=e;a<Math.min(e+t,2500);a++)n.filteredNfts.push(a);console.log("calling filter")}},mounted:function(){this.load(1,this.maxNftsPerPage)}};const Cs=(0,R.Z)(Ts,[["render",vs]]);var _s=Cs,Ms={name:"App",components:{AllNfts:_s},data(){return{pictureLink:["https://raw.githubusercontent.com/Surviville/Reaperville/master/png-low-res/","https://raw.githubusercontent.com/Surviville/Reaperville/master/png/"]}}};const xs=(0,R.Z)(Ms,[["render",$a]]);var Ps=xs;const As={class:"content-body"},Ns={class:"container text-start"},Ss={class:"col-xxl-12"},Es=(0,s._)("div",{class:"card"},[(0,s._)("div",{class:"card-body"},[(0,s._)("h3",{class:"animate-characters"},"Notice"),(0,s._)("h5",null," Click the envelope icons to show or hide the sections on this page. ")])],-1),Rs={class:"card"},Us={class:"card-body"},Is={key:0},Bs=(0,s.Uk)(" How Staking Your Reaperville NFTs Works   "),Fs={href:"#Staking"},Ds={id:"Staking"},Hs=(0,s.Uk)(" How Staking Your Reaperville NFTs Works   "),Ls={href:"#Staking"},zs=(0,s._)("ul",null,[(0,s.Uk)(" Normally, when you stake one or multiple NFTs, you transfer the ownership of your NFTs to a smart contract which promises to transfer them back to you when you want to unstake your NFTs. "),(0,s._)("h5",{class:"mt-3"},"We at Surviville do things differently!"),(0,s.Uk)(" When you stake a Reaperville NFT, the NFT remains in your wallet. That means, you don't have to transfer your NFTs to a different contract to stake them. However, when you decide to transfer a staked NFT to another wallet or an NFT marketplace, you need to unstake them first on this website in order to harvest your staking rewards. If you try to transfer a staked NFT without unstaking it first, the NFT is automatically unstaked for you, but you will not receive the staking rewards for this particular NFT since your last automatic or manual harvest. However, transferring staked NFTs also don't reset the penalties and reward cycle — which can be an advantage. However, transferring staked NFTs also don't reset the penalties and reward cycle. ")],-1),Os=(0,s._)("br",null,null,-1),Vs={key:2},Ws=(0,s.Uk)(" How Many NFTs can you stake?   "),Ys={href:"#HowMany"},qs={id:"HowMany"},js=(0,s.Uk)(" How Many NFTs can you stake?   "),$s={href:"#HowMany"},Zs=(0,s._)("h5",null,"As many as you want!",-1),Xs=(0,s._)("ul",null," There are no limitations per wallet. ",-1),Gs=(0,s._)("br",null,null,-1),Ks={key:4},Qs=(0,s.Uk)(" Advantages and Disadvantages   "),Js={href:"#Advantages",id:"Advantages"},er=(0,s.Uk)(" Advantages and Disadvantages   "),tr={href:"#Advantages",id:"Advantages"},nr=(0,s._)("h5",null,"Advantages",-1),ar=(0,s._)("ul",null," Super low gas fees for staking and unstaking your NFTs. The staked NFTs remain in your wallet. No need to trust a smart contract with the custody of your NFTs. ",-1),sr=(0,s._)("br",null,null,-1),rr=(0,s._)("h5",null,"Disadvantages",-1),ir=(0,s._)("ul",null," You need to remember to unstake the NFTs which you want to transfer to another wallet or which you want to sell on Oasis. If you forget to unstake the NFTs before transferring them, you will lose the harvest of these NFTs since your last automatic or manual harvest, but the penalties and bonus cycle will not be restarted. ",-1),lr={class:"col-xxl-12"},or={class:"card top-bid"},dr={class:"card-body"},cr={class:"row align-items-center"},ur={class:"col align-items-center",id:"LevelUpgrades"},pr={key:0},hr=(0,s.Uk)(" NFT Level Upgrades   "),wr={href:"#LevelUpgrades"},yr=(0,s.Uk)(" NFT Level Upgrades   "),gr={href:"#LevelUpgrades"},mr=(0,s.uE)('<ul><p> You can permanently increase the staking power of your NFTs by upgrading the levels of any NFT you own. For level upgrades you need SVC tokens which you can earn by staking your NFTs or by buying them on MistSwap. Each level upgrade costs <strong>100 SVC tokens. </strong></p><p> The maximum level is <strong>100. </strong></p><p> Use the slider on the <a href="/my-reapers">staking and leveling website</a> to select the level you want to upgrade to. The website shows you a preview of the power after the upgrade. </p><p><strong>100%</strong> of the SVC which is used for leveling NFTs is <strong>burned</strong>. </p></ul>',1),fr={class:"col-xxl-12"},kr={class:"card top-bid"},br={class:"card-body"},vr={class:"row align-items-center"},Tr={class:"col align-items-center",id:"HarvestTypes"},Cr={key:0},_r=(0,s.Uk)(" Harvest Types   "),Mr={href:"#HarvestTypes"},xr=(0,s.Uk)(" Harvest Types   "),Pr={href:"#HarvestTypes"},Ar=(0,s.uE)("<ul> Whenever you stake, unstake or upgrade one or multiple NFTs, a harvest of SVC reward tokens is automatically executed. Additionally, you can harvest SVC reward tokens whenever you want. This operation is called a <strong>manual harvest</strong>. </ul><br><h3>Harvest Penalties and Bonuses</h3><h5>Penalties</h5><ul> If you harvest within the first 20 days of your first stake or your last manual harvest, the harvest amount is reduced by a penalty. The penalty applies to both automatic and manual harvests. Within the first day of staking, the penalty is 95% of the harvest amount. For each subsequent full day of staking, the penalty is reduced by 5 percentage points. That means, you will receive 10% after a full day of staking, 15% after 2 full days, 20% after 3 full days and so on. After 19 full days of staking your NFTs, you will receive 100% of the harvest amount. That means after 20 days there are no penalties on harvests. </ul><br><h5>Bonus</h5><ul> But wait, that&#39;s not all: After 30 full days of staking, you will receive a 15% bonus. 👀 Note that each pure harvest and each unstake will reset the penalties and bonuses cycle. A stake or level upgrade will <strong>not</strong> reset the cycle. An automatic unstake due to an NFT transfer will also not reset the cycle. </ul>",8);function Nr(e,t,n,a,r,i){return(0,s.wg)(),(0,s.iD)("div",As,[(0,s._)("div",Ns,[(0,s._)("div",Ss,[Es,(0,s._)("div",Rs,[(0,s._)("div",Us,[r.showStaking?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h3",Ds,[Hs,(0,s._)("a",Ls,[(0,s._)("i",{onClick:t[1]||(t[1]=e=>r.showStaking=!r.showStaking),title:"Hide text",class:"ri-mail-open-line"})])]),zs],64)):((0,s.wg)(),(0,s.iD)("h3",Is,[Bs,(0,s._)("a",Fs,[(0,s._)("i",{onClick:t[0]||(t[0]=e=>r.showStaking=!r.showStaking),title:"Show text",class:"ri-mail-line"})])])),Os,r.showHowMany?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,s._)("h3",qs,[js,(0,s._)("a",$s,[(0,s._)("i",{onClick:t[3]||(t[3]=e=>r.showHowMany=!r.showHowMany),title:"Hide text",class:"ri-mail-open-line"})])]),Zs,Xs],64)):((0,s.wg)(),(0,s.iD)("h3",Vs,[Ws,(0,s._)("a",Ys,[(0,s._)("i",{onClick:t[2]||(t[2]=e=>r.showHowMany=!r.showHowMany),title:"Show text",class:"ri-mail-line"})])])),Gs,r.showAdvantages?((0,s.wg)(),(0,s.iD)(s.HY,{key:5},[(0,s._)("h3",null,[er,(0,s._)("a",tr,[(0,s._)("i",{onClick:t[5]||(t[5]=e=>r.showAdvantages=!r.showAdvantages),title:"Hide text",class:"ri-mail-open-line"})])]),nr,ar,sr,rr,ir],64)):((0,s.wg)(),(0,s.iD)("h3",Ks,[Qs,(0,s._)("a",Js,[(0,s._)("i",{onClick:t[4]||(t[4]=e=>r.showAdvantages=!r.showAdvantages),title:"Show text",class:"ri-mail-line"})])]))])]),(0,s._)("div",lr,[(0,s._)("div",or,[(0,s._)("div",dr,[(0,s._)("div",cr,[(0,s._)("div",ur,[r.showUpgrades?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h3",null,[yr,(0,s._)("a",gr,[(0,s._)("i",{onClick:t[7]||(t[7]=e=>r.showUpgrades=!r.showUpgrades),title:"Show text",class:"ri-mail-open-line"})])]),mr],64)):((0,s.wg)(),(0,s.iD)("h3",pr,[hr,(0,s._)("a",wr,[(0,s._)("i",{onClick:t[6]||(t[6]=e=>r.showUpgrades=!r.showUpgrades),title:"Show text",class:"ri-mail-line"})])]))])])])])]),(0,s._)("div",fr,[(0,s._)("div",kr,[(0,s._)("div",br,[(0,s._)("div",vr,[(0,s._)("div",Tr,[r.showHarvest?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h3",null,[xr,(0,s._)("a",Pr,[(0,s._)("i",{onClick:t[9]||(t[9]=e=>r.showHarvest=!r.showHarvest),class:"ri-mail-open-line"})])]),Ar],64)):((0,s.wg)(),(0,s.iD)("h3",Cr,[_r,(0,s._)("a",Mr,[(0,s._)("i",{onClick:t[8]||(t[8]=e=>r.showHarvest=!r.showHarvest),class:"ri-mail-line"})])]))])])])])])])])])}var Sr={data(){return{showStaking:!1,showAdvantages:!1,showHowMany:!1,showUpgrades:!1,showHarvest:!1}}};const Er=(0,R.Z)(Sr,[["render",Nr]]);var Rr=Er;const Ur={class:"content-body"},Ir={class:"container text-start"},Br={class:"col-xxl-12"},Fr=(0,s._)("div",{class:"card"},[(0,s._)("div",{class:"card-body"},[(0,s._)("h3",{class:"animate-characters"},"Notice"),(0,s._)("h5",null," Click the envelope icons to show or hide the sections on this page. ")])],-1),Dr={class:"card"},Hr={class:"card-body"},Lr={key:0},zr=(0,s.Uk)(" Surviville Coin Tokenomics   "),Or={href:"#SVC"},Vr={id:"SVC"},Wr=(0,s.Uk)(" Surviville Coin Tokenomics   "),Yr={href:"#SVC"},qr=(0,s.Uk)(" Current token amount in existence: "),jr=(0,s.uE)("<p>Total maximum supply: <strong>210 million SVC</strong></p><p> The total maximum supply <strong>cannot be exceeded</strong>. </p><p> The total maximum supply <strong>cannot be increased</strong>. </p><p><strong>1 million SVC</strong> were minted to the project&#39;s wallet at the time the token was created. </p><p> The goal was having enough supply to provide initial liquidity for SVC. </p><h4>There was <strong>no token presale</strong>.</h4><p> BCH for the initial liquidity was taken from the Reaperville mint proceeds. </p><h4>There is <strong>no developer tax</strong> on SVC.</h4><h4><strong>100%</strong> of the SVC which is used for leveling NFTs is <strong>burned</strong>. </h4>",9),$r=(0,s._)("br",null,null,-1),Zr=(0,s._)("h4",null," In addition to the total max. supply mentioned above, each collection and subproject of Surviville has their own limits on how many SVC they can mint as rewards. ",-1),Xr=(0,s._)("h4",null," You can find more details on the already existing subprojects and collections below. ",-1),Gr={class:"card"},Kr={class:"card-body"},Qr={key:0},Jr=(0,s.Uk)(" Reaperville   "),ei={href:"#Reaperville"},ti={id:"Reaperville"},ni=(0,s.Uk)(" Reaperville   "),ai={href:"#Reaperville"},si=(0,s._)("h4",{class:"mt-4"}," SVC is earnable as a reward token via Reaperville staking: ",-1),ri=(0,s._)("ul",null,[(0,s._)("p",null,[(0,s._)("strong",null,"1 million SVC"),(0,s.Uk)(" in the "),(0,s._)("strong",null,"first year")]),(0,s._)("p",null,[(0,s._)("strong",null,"2.5 million SVC"),(0,s.Uk)(" in the "),(0,s._)("strong",null,"first 3 years")]),(0,s._)("p",null,[(0,s.Uk)(" Lifetime rewards for Reaperville staking are limited to "),(0,s._)("strong",null,"5 million SVC")])],-1),ii=(0,s.Uk)(" SVC "),li=(0,s._)("strong",null,"minted",-1),oi=(0,s.Uk)(" as staking rewards: "),di=(0,s.Uk)(" until now "),ci=(0,s.Uk)(" SVC "),ui=(0,s._)("strong",null,"burned",-1),pi=(0,s.Uk)(" for level upgrades: "),hi=(0,s.Uk)(" until now "),wi={key:2,class:"mt-4"},yi=(0,s.Uk)(" Details on SVC Emission from Reaperville Staking   "),gi={href:"#ReapervilleRewardTokenEmission"},mi={class:"mt-4",id:"ReapervilleRewardTokenEmission"},fi=(0,s.Uk)(" Details on Reward Token Emission   "),ki={href:"#ReapervilleRewardTokenEmission"},bi=(0,s.Uk)(" Current Reaperville total emission rate: "),vi=(0,s._)("h4",null," All incurred penalties for automatic or manual harvests of the Reaperville NFT staking reduce the effective emission rate by up to 95%. ",-1),Ti=(0,s._)("h4",null," If a staker harvests after qualifying for the 15% bonus for having staked the Reaperville NFTs for at least 30 days, this may increase the effective emission rate by up to 15%. ",-1),Ci={class:"mt-4"},_i=(0,s.Uk)(" Total staked power: "),Mi=(0,s.Uk)("🔥 "),xi=(0,s.Uk)(" Base staking power (used to adjust the reward token emission): "),Pi=(0,s._)("h4",null,"Summary of automatic token emission reduction",-1),Ai=(0,s._)("p",null,"Stake and upgrade add 1% to base staking power",-1),Ni=(0,s._)("p",null,"Unstake adds 5% to base staking power",-1),Si=(0,s._)("p",null,"Emergency unstake adds 0% to base staking power",-1),Ei=(0,s._)("p",null," Manual adjustments may be necessary to reach the planned reward token emission ",-1),Ri={class:"card"},Ui={class:"card-body"},Ii={key:0},Bi=(0,s.Uk)(" Other Sub-Projects   "),Fi={href:"#OtherProjects"},Di={id:"OtherProjects"},Hi=(0,s.Uk)(" Other Sub-Projects   "),Li={href:"#Reaperville"},zi=(0,s._)("h4",{class:"mt-4"}," Information about other sub-projects of the Surviville project will be published at a later point. ",-1),Oi=(0,s._)("h4",null,"Stay tuned!",-1);function Vi(e,t,n,a,i,l){return(0,s.wg)(),(0,s.iD)("div",Ur,[(0,s._)("div",Ir,[(0,s._)("div",Br,[Fr,(0,s._)("div",Dr,[(0,s._)("div",Hr,[i.showTokenomics?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h2",Vr,[Wr,(0,s._)("a",Yr,[(0,s._)("i",{onClick:t[1]||(t[1]=e=>i.showTokenomics=!i.showTokenomics),title:"Hide text",class:"ri-mail-open-line"})])]),(0,s._)("ul",null,[(0,s._)("h4",null,[qr,(0,s._)("strong",null,(0,r.zw)(Math.floor(i.rewardTokenTotalSupply/1e3)/1e3)+" million SVC ",1)]),jr]),$r,Zr,Xr],64)):((0,s.wg)(),(0,s.iD)("h2",Lr,[zr,(0,s._)("a",Or,[(0,s._)("i",{onClick:t[0]||(t[0]=e=>i.showTokenomics=!i.showTokenomics),title:"Show text",class:"ri-mail-line"})])]))])]),(0,s._)("div",Gr,[(0,s._)("div",Kr,[i.showReaperville?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h2",ti,[ni,(0,s._)("a",ai,[(0,s._)("i",{onClick:t[3]||(t[3]=e=>i.showReaperville=!i.showReaperville),title:"Hide text",class:"ri-mail-open-line"})])]),si,ri,(0,s._)("h4",null,[ii,li,oi,(0,s._)("strong",null,(0,r.zw)(i.rewardTokenMinted4Reaper)+" SVC ",1),di]),(0,s._)("h4",null,[ci,ui,pi,(0,s._)("strong",null,(0,r.zw)(1e6+i.rewardTokenMinted4Reaper-i.rewardTokenTotalSupply)+" SVC ",1),hi])],64)):((0,s.wg)(),(0,s.iD)("h2",Qr,[Jr,(0,s._)("a",ei,[(0,s._)("i",{onClick:t[2]||(t[2]=e=>i.showReaperville=!i.showReaperville),title:"Show text",class:"ri-mail-line"})])])),i.showReapervilleRewardTokenEmission?((0,s.wg)(),(0,s.iD)(s.HY,{key:3},[(0,s._)("h3",mi,[fi,(0,s._)("a",ki,[(0,s._)("i",{onClick:t[5]||(t[5]=e=>i.showReapervilleRewardTokenEmission=!i.showReapervilleRewardTokenEmission),title:"Hide text",class:"ri-mail-open-line"})])]),(0,s._)("h4",null,[(0,s._)("p",null,[bi,(0,s._)("strong",null,(0,r.zw)(i.rewardTokenEmissionPerHour)+" SVC / hour @100% payout",1)]),(0,s._)("p",null," = "+(0,r.zw)(Math.round(24*i.rewardTokenEmissionPerHour*365/1e3)/1e3)+" million SVC / year ",1)]),vi,Ti,(0,s._)("h4",Ci,[(0,s._)("p",null,[_i,(0,s._)("strong",null,(0,r.zw)(i.totalStakedPower),1),Mi])]),i.isAdmin?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h4",null,[(0,s._)("p",null,[xi,(0,s._)("strong",null,(0,r.zw)(i.baseStakingPower)+" == "+(0,r.zw)(Math.round(i.baseStakingPower/i.totalStakedPower*1e4)/100)+"%",1)])]),Pi,Ai,Ni,Si,Ei],64)):(0,s.kq)("",!0)],64)):((0,s.wg)(),(0,s.iD)("h3",wi,[yi,(0,s._)("a",gi,[(0,s._)("i",{onClick:t[4]||(t[4]=e=>i.showReapervilleRewardTokenEmission=!i.showReapervilleRewardTokenEmission),title:"Show text",class:"ri-mail-line"})])]))])]),(0,s._)("div",Ri,[(0,s._)("div",Ui,[i.showOtherProjects?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h2",Di,[Hi,(0,s._)("a",Li,[(0,s._)("i",{onClick:t[7]||(t[7]=e=>i.showOtherProjects=!i.showOtherProjects),title:"Hide text",class:"ri-mail-open-line"})])]),zi,Oi],64)):((0,s.wg)(),(0,s.iD)("h2",Ii,[Bi,(0,s._)("a",Fi,[(0,s._)("i",{onClick:t[6]||(t[6]=e=>i.showOtherProjects=!i.showOtherProjects),title:"Show text",class:"ri-mail-line"})])]))])])])])])}var Wi={data(){return{showTokenomics:!1,showReaperville:!1,showReapervilleRewardTokenEmission:!1,showOtherProjects:!1,rewardTokenContract:null,reaperContract:null,reaperBchBalance:0,reaperBchPerNft:"0",rewardTokenMintAllowance4NewMinter:1e4,addressTo:"",feedbackMessage:"",rewardTokenMintAllowance4Reaper:0,isAdmin:!1,reaperMintPaused:!1,reaperStakingPaused:!1,allowanceToSet:5e6,totalStakedPower:0,baseStakingPower:0,released:0,rewardTokenEmissionPerHour:0,rewardTokenTotalSupply:0,rewardTokenMinted4Reaper:0}},mounted:function(){this.provider=new S.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.rewardTokenContract=new We.CH(window.RewardTokenAddress,qe.Mt,this.signer),this.reaperContract=new We.CH(window.ReaperAddress,je.Mt,this.signer)})).then((()=>{this.reaperContract.showStakerInfo(window.DevAddress).then((e=>{this.totalStakedPower=e[2],this.baseStakingPower=e[3],this.rewardTokenEmissionPerHour=String(Math.round(1e5*Ye.dF(e[4]))/1e5)})),this.rewardTokenContract.remainingMintersAllowance(window.ReaperAddress).then((e=>{this.rewardTokenMintAllowance4Reaper=String(e),this.rewardTokenMinted4Reaper=Math.round((5*10**24-Number(this.rewardTokenMintAllowance4Reaper))/10**15)/1e3})),this.rewardTokenContract.totalSupply().then((e=>{this.rewardTokenTotalSupply=String(Math.round(e/10**15)/1e3)}))}))}};const Yi=(0,R.Z)(Wi,[["render",Vi]]);var qi=Yi;function ji(e,t,n,a,r,i){const l=(0,s.up)("BuyCards"),o=(0,s.up)("PlayCards");return r.showBuying?((0,s.wg)(),(0,s.j4)(l,{key:0,onCardsBought:i.play,ref:"buyCardsRef"},null,8,["onCardsBought"])):((0,s.wg)(),(0,s.j4)(o,{key:1,cards2Play:r.cards2Play,tokensWon:r.tokensWonE18,gameStats:r.gameStats,onCardsPlayed:i.buy,ref:"playCardsRef"},null,8,["cards2Play","tokensWon","gameStats","onCardsPlayed"]))}const $i={class:"text-center container col-lg-8 col-md-9 col-sm-10 mx-auto mt-2 mb-4"},Zi=(0,s._)("h1",{class:"animate-characters"},"The Surviville Card Game",-1),Xi=(0,s._)("h2",{class:"mt-4"},"How it works",-1),Gi=(0,s._)("br",null,null,-1),Ki=(0,s._)("h3",null,"Every card you play has a chance to 50x your money!",-1),Qi={key:0},Ji=(0,s.Uk)(" Detailed winning chances   "),el={href:"#WinningChances"},tl={id:"WinningChances",class:"mt-4"},nl=(0,s.Uk)(" Detailed winning chances   "),al={href:"#WinningChances"},sl=(0,s.uE)('<table class="mx-auto my-4" style="width:100%;"><tr><th style="width:50%;">Payout in % of Investment</th><th style="width:50%;">Slots</th></tr><tr><td>5,000%</td><td>1</td></tr><tr><td>2,500%</td><td>2</td></tr><tr><td>1,000%</td><td>3</td></tr><tr><td>500%</td><td>5</td></tr><tr><td>250%</td><td>10</td></tr><tr><td>200%</td><td>25</td></tr><tr><td>150%</td><td>200</td></tr><tr><td>125%</td><td>301</td></tr><tr><td>0%</td><td>669</td></tr></table>',1),rl=(0,s._)("h4",{class:"lead text-muted mx-auto my-3"},[(0,s._)("span",null,"You can play up to 50 cards per transaction. "),(0,s._)("span",null," Every card is drawn in a non-sequential, randomised order. "),(0,s._)("span",null," Once a card is drawn, it is not put back into the card pool. ")],-1),il={class:"mx-auto my-4",id:"cardsPlayed"},ll={href:"#cardsPlayed"},ol=(0,s._)("h4",{class:"lead text-muted mx-auto my-3"},[(0,s._)("span",null," Please select how many Surviville cards you want to mint. ")],-1),dl={class:"mb-3 mx-auto"},cl={class:"input-group mx-auto"},ul={class:"input-group-prepend mx-auto"},pl=(0,s.Uk)("   "),hl=(0,s.Uk)("   "),wl=(0,s.Uk)("   "),yl=(0,s.Uk)("   "),gl=(0,s.Uk)("   "),ml=(0,s.Uk)("   "),fl=(0,s.Uk)("   "),kl={class:"mb-3 mx-auto"},bl={class:"input-group mx-auto"},vl={class:"input-group-prepend mx-auto"},Tl=["disabled"],Cl={class:"col-lg-8 col-md-8 col-sm-8 mx-auto"},_l=["max"],Ml=["disabled"],xl={class:"row-lg-12"},Pl={class:"column"},Al={key:0},Nl={key:1},Sl={class:"col-lg-6 col-md-8 mx-auto"},El=["disabled"],Rl=(0,s.Uk)("   "),Ul=["disabled"],Il={key:1,class:"mt-4"},Bl=(0,s._)("br",null,null,-1),Fl={class:"mx-auto text-muted"},Dl=(0,s._)("br",null,null,-1),Hl={key:3,class:"mt-4"},Ll=(0,s._)("br",null,null,-1),zl=(0,s._)("h6",{class:"mx-auto text-muted"},[(0,s._)("span",null," Note that the transactions cannot be undone. ")],-1),Ol=(0,s._)("br",null,null,-1),Vl=(0,s._)("h6",{class:"mx-auto text-muted"},[(0,s._)("span",null," For increased efficiency all cards need to be played directly upon purchase and cannot be played at a later point in time. "),(0,s._)("span",null," All winnings are paid out immediately. ")],-1),Wl={key:0,class:"popup"},Yl={key:0,class:"text-monospace col-lg-12 col-md-12 mx-auto mt-4 mb-2"},ql={key:1,class:"text-monospace col-lg-12 col-md-12 mx-auto mt-1 mb-4"};function jl(e,t,n,i,l,o){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("section",$i,[Zi,Xi,Gi,l.remainingCards>0?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("h3",null," For "+(0,r.zw)(l.bchPerCardE15/1e3)+" BCH or "+(0,r.zw)(l.svcPerCardE15/1e3)+" SVC you can play 1 card. ",1),Ki,l.showWinningChances?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("h4",tl,[nl,(0,s._)("a",al,[(0,s._)("i",{onClick:t[1]||(t[1]=e=>l.showWinningChances=!l.showWinningChances),title:"Hide text",class:"ri-mail-open-line"})])]),sl],64)):((0,s.wg)(),(0,s.iD)("h4",Qi,[Ji,(0,s._)("a",el,[(0,s._)("i",{onClick:t[0]||(t[0]=e=>l.showWinningChances=!l.showWinningChances),title:"Show text",class:"ri-mail-line"})])])),rl,(0,s._)("h2",il,[(0,s._)("span",null,(0,r.zw)(l.totalCards-l.remainingCards)+" of "+(0,r.zw)(l.totalCards)+" cards have been played. ",1),(0,s._)("a",ll,[(0,s._)("i",{title:"Reload numbers",onClick:t[2]||(t[2]=e=>o.load()),class:"ri-refresh-fill"})])]),ol,(0,s._)("div",dl,[(0,s._)("div",cl,[(0,s._)("div",ul,[(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[3]||(t[3]=e=>o.setCards2Play(1))}," 1 "),pl,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[4]||(t[4]=e=>o.setCards2Play(5))}," 5 "),hl,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[5]||(t[5]=e=>o.setCards2Play(10))}," 10 "),wl,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[6]||(t[6]=e=>o.setCards2Play(15))}," 15 "),yl,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[7]||(t[7]=e=>o.setCards2Play(20))}," 20 "),gl,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[8]||(t[8]=e=>o.setCards2Play(30))}," 30 "),ml,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[9]||(t[9]=e=>o.setCards2Play(40))}," 40 "),fl,(0,s._)("button",{class:"btn btn-std",type:"button",onClick:t[10]||(t[10]=e=>o.setCards2Play(50))}," 50 ")])])]),(0,s._)("div",kl,[(0,s._)("div",bl,[(0,s._)("div",vl,[(0,s._)("button",{class:"btn btn-std",disabled:l.cards2Play<=1,onClick:t[11]||(t[11]=e=>o.changeCards2Play(-1))}," - ",8,Tl),(0,s._)("div",Cl,[(0,s.wy)((0,s._)("input",{id:"tokensToBuy",type:"number",min:"1",max:l.maxCardsPerTx,class:"form-control mx-auto",onChange:t[12]||(t[12]=e=>o.changeCards2Play(0)),"onUpdate:modelValue":t[13]||(t[13]=e=>l.cards2Play=e)},null,40,_l),[[a.nr,l.cards2Play]])]),(0,s._)("button",{class:"btn btn-std",disabled:l.cards2Play>=l.maxCardsPerTx,onClick:t[14]||(t[14]=e=>o.changeCards2Play(1))}," + ",8,Ml)])])]),(0,s._)("span",xl,[(0,s._)("span",Pl,[l.cards2Play>1?((0,s.wg)(),(0,s.iD)("h4",Al,"Play "+(0,r.zw)(l.cards2Play)+" cards for:",1)):((0,s.wg)(),(0,s.iD)("h4",Nl,"Play 1 card for:")),(0,s._)("div",Sl,[(0,s._)("button",{id:"buyButtonBch",type:"button",class:"btn btn-std my-2 btn-large",disabled:l.contractPaused||l.bchPerCardE15<=0,onClick:t[15]||(t[15]=(...e)=>o.playWithBCH&&o.playWithBCH(...e))},(0,r.zw)(l.cards2Play*l.bchPerCardE15/1e3)+" BCH ",9,El),Rl,(0,s._)("button",{id:"buyButtonSvc",type:"button",class:"btn btn-std my-2 btn-large",disabled:l.contractPaused||l.svcPerCardE15<=0,onClick:t[16]||(t[16]=e=>o.playWithToken("SVC"))},(0,r.zw)(l.cards2Play*l.svcPerCardE15/1e3)+" SVC ",9,Ul)])])])],64)):((0,s.wg)(),(0,s.iD)("h2",Il," All cards have been played! Please wait for the next round! ")),!0===l.cardsBought?((0,s.wg)(),(0,s.iD)(s.HY,{key:2},[Bl,(0,s._)("h6",Fl,[(0,s._)("button",{onClick:t[17]||(t[17]=t=>e.$emit("cardsBought")),class:"btn btn-success"}," Play cards now ")])],64)):(0,s.kq)("",!0),Dl,!1===l.cardsBought?((0,s.wg)(),(0,s.iD)("h3",Hl,[(0,s._)("span",null," Your Balances: "+(0,r.zw)(Math.round(l.playersBchBalanceE0/10**15)/1e3)+" BCH, "+(0,r.zw)(Math.round(l.playersRewardTokenBalanceE0/10**15)/1e3)+" SVC ",1)])):(0,s.kq)("",!0),Ll,zl,Ol,Vl]),""!=l.feedbackMessage||l.txInProgress?((0,s.wg)(),(0,s.iD)("div",Wl,[""!=l.feedbackMessage?((0,s.wg)(),(0,s.iD)("h4",Yl,(0,r.zw)(l.feedbackMessage),1)):(0,s.kq)("",!0),l.txInProgress?((0,s.wg)(),(0,s.iD)("h4",ql," Please wait for the transaction to finish! ")):(0,s.kq)("",!0)])):(0,s.kq)("",!0)],64)}var $l=n(7789),Zl={name:"App",emits:["cardsBought"],data(){return{playersAddress:null,playersBchBalanceE0:0,playersRewardTokenBalanceE0:0,playersRewardTokenAllowanceE0:0,rewardTokenContract:null,cardsContract:null,contractPaused:!1,remainingCards:0,totalCards:1215,bchPerCardE15:0,svcPerCardE15:0,cards2Play:10,maxCardsPerTx:50,showWinningChances:!1,feedbackMessage:"",txInProgress:!1,cardsBought:!1}},methods:{playWithToken:async function(e){let t;switch(await this.load(),e){case"SVC":t=this.svcPerCardE15;break;default:this.feedbackMessage="Filter not implemented"}if(this.cards2Play>this.remainingCards)return this.feedbackMessage=`There are only ${this.remainingCards} cards available for minting!`,this.maxCardsPerTx=this.remainingCards,!1;let n=t*this.cards2Play,a=n.toString()+"000000000000000";const s=13e5,r=135e3,i=50,l=1;let o,d=Math.min(1e7,Math.ceil((s-r)*this.cards2Play/(i-l)+(i*r-l*s)/(i-l)*(1-(this.totalCards-this.remainingCards)/(5*this.totalCards))));if(console.log("totalCostTokenE15: ",n),console.log("Gas limit: ",d),this.playersRewardTokenAllowanceE0<Number(a)&&(console.log("allowance",this.playersRewardTokenAllowanceE0.toString()),console.log("totalCostTokenE0",a.toString()),this.feedbackMessage="Approving "+e+" first",await this.approveRewardToken()),this.playersRewardTokenBalanceE0.lt(a))return this.feedbackMessage=`You have ${Ye.fi(this.playersRewardTokenBalanceE0)} ${e} in your wallet. You can play up to ${Math.round(this.playersRewardTokenBalanceE0.div($l.O$.from(this.svcPerCardE15).mul(10).pow(15))-.5)} cards with that.`,!1;this.feedbackMessage="Getting your cards.",this.txInProgress=!0;try{o=await this.cardsContract.playWithToken(this.cards2Play,window.RewardTokenAddress,a,{gasLimit:d.toString()}),await o.wait(),console.log("balance old",this.playersRewardTokenBalanceE0);let e=this.playersRewardTokenBalanceE0;this.rewardTokenContract.balanceOf(this.playersAddress).then((t=>{this.playersRewardTokenBalanceE0=$l.O$.from(t),console.log("balance new",this.playersRewardTokenBalanceE0.toString()),e=$l.O$.from(this.playersRewardTokenBalanceE0).sub(e).add(a),console.log("winningsE0",e.toString());let n=e.mod($l.O$.from(10).pow(18));n=n.toNumber();let s=e.div($l.O$.from(10).pow(18));s.lt(0)&&n>0&&(s=s.sub(1)),s=s.toNumber(),this.$emit("cardsBought",this.cards2Play,s,n)}))}catch(u){return this.feedbackMessage="An error occured. Please try again later.",this.txInProgress=!1,!1}console.log("tx hash:",o.hash);const c=await this.provider.getTransaction(o.hash);try{let e=await this.provider.call(c,c.blockNumber);console.log(e),"0x"==e&&(this.feedbackMessage="Congratulations! You successfully played some cards!",this.txInProgress=!1,this.cardsBought=!0)}catch(u){this.feedbackMessage="An error occured.\nPlease try again later.",this.txInProgress=!1;const e=u.data.replace("Reverted ","");console.log({err:u});let t=qt.ZN("0x"+e.substr(138));console.log("revert reason:",t)}},playWithBCH:async function(){if(await this.load(),this.cards2Play>this.remainingCards)return this.feedbackMessage=`There are only ${this.remainingCards} cards available for minting!`,this.maxCardsPerTx=this.remainingCards,!1;let e=this.bchPerCardE15*this.cards2Play,t=e.toString()+"000000000000000";const n=11e5,a=11e4,s=50,r=1;let i,l=Math.min(1e7,Math.ceil((n-a)*this.cards2Play/(s-r)+(s*a-r*n)/(s-r)*(1-(this.totalCards-this.remainingCards)/(5*this.totalCards))));if(console.log("totalCostmBch: ",e),console.log("Gas limit: ",l),this.playersBchBalanceE0<e*10**15+l)return this.feedbackMessage=`You have ${Math.round(this.playersBchBalanceE0/10**14)/1e4} BCH in your wallet. You can play up to ${Math.round(this.playersBchBalanceE0/Number(this.bchPerCardE15*10**15)-.5)} cards with that.`,!1;this.feedbackMessage="Getting your cards.",this.txInProgress=!0;try{i=await this.cardsContract.playWithBch(this.cards2Play,{value:t,gasLimit:l.toString()}),await i.wait(),console.log(i)}catch(d){return this.feedbackMessage="An error occured. Please try again later.",this.txInProgress=!1,!1}console.log("tx hash:",i.hash);const o=await this.provider.getTransaction(i.hash);try{let e=await this.provider.call(o,o.blockNumber);console.log(e),"0x"==e&&(this.feedbackMessage="Congratulations! You successfully played some cards!",this.txInProgress=!1)}catch(d){this.feedbackMessage="An error occured.\nPlease try again later.",this.txInProgress=!1;const e=d.data.replace("Reverted ","");console.log({err:d});let t=qt.ZN("0x"+e.substr(138));console.log("revert reason:",t)}this.load()},approveRewardToken:async function(){let e=this;e.feedbackMessage="Approving EXP token",e.txInProgress=!0;let t=await e.rewardTokenContract.approve(window.CardsAddress,oa.Bz,{gasLimit:65e3});await t.wait(),e.rewardTokenContract.allowance(e.playersAddress,window.CardsAddress).then((t=>{e.playersRewardTokenAllowanceE0=t})),e.feedbackMessage="",e.txInProgress=!1},removeRewardTokenAllowance:async function(){let e=this;e.feedbackMessage="Removing EXP token approval",e.txInProgress=!0;let t=await e.rewardTokenContract.approve(window.CardsAddress,0,{gasLimit:65e3,gasPrice:104674e4});await t.wait(),e.rewardTokenContract.allowance(e.playersAddress,window.CardsAddress).then((t=>{e.playersRewardTokenAllowanceE0=t})),e.feedbackMessage="",e.txInProgress=!1},setCards2Play:function(e){this.feedbackMessage="",this.txInProgress=!1,this.cards2Play=Math.floor(e),this.cards2Play<1?this.cards2Play=1:this.cards2Play>this.maxCardsPerTx&&(this.cards2Play=this.maxCardsPerTx)},changeCards2Play:function(e){this.feedbackMessage="",this.txInProgress=!1,this.cards2Play=Math.floor(this.cards2Play)+e,this.cards2Play<1?this.cards2Play=1:this.cards2Play>this.maxCardsPerTx&&(this.cards2Play=this.maxCardsPerTx)},getBchBalance:function(){this.provider.getBalance(this.playersAddress).then((e=>{this.playersBchBalanceE0=e}))},getRewardTokenBalance:function(){this.rewardTokenContract.balanceOf(this.playersAddress).then((e=>{this.playersRewardTokenBalanceE0=$l.O$.from(e),console.log(this.playersRewardTokenBalanceE0.toString())}))},getRewardTokenAllowance:function(){let e=this;e.rewardTokenContract.allowance(e.playersAddress,window.CardsAddress).then((t=>{e.playersRewardTokenAllowanceE0=t}))},load:function(){this.feedbackMessage="",this.txInProgress=!1,this.cardsContract.getInfo([window.RewardTokenAddress]).then((e=>{console.log(e),this.contractPaused=e[0]>0,this.remainingCards=e[1],this.totalCards=e[2],this.bchPerCardE15=e[3],this.svcPerCardE15=e[4]})),this.signer.getAddress().then((e=>{this.playersAddress=e,this.getBchBalance(),this.getRewardTokenBalance(),this.getRewardTokenAllowance()}))}},mounted:function(){this.provider=new S.Q(window.ethereum,"any"),this.provider.send("eth_requestAccounts",[]).then((()=>{this.signer=this.provider.getSigner(),this.rewardTokenContract=new We.CH(window.RewardTokenAddress,qe.Mt,this.signer),this.cardsContract=new We.CH(window.CardsAddress,$e.Mt,this.signer)})).then((()=>{this.load()}))}};const Xl=(0,R.Z)(Zl,[["render",jl]]);var Gl=Xl;const Kl=e=>((0,s.dD)("data-v-492cf412"),e=e(),(0,s.Cn)(),e),Ql={class:"text-center container col-lg-8 col-md-9 col-sm-10 mx-auto mt-2 mb-4"},Jl=Kl((()=>(0,s._)("h1",{class:"animate-characters"},"The Surviville Card Game",-1))),eo={class:"mx-auto my-4"},to=["onClick","src"],no=["onClick","src"],ao=["onClick","src"],so={class:"mt-4"},ro={class:"row-lg-12"},io={class:"column"},lo={class:"col-lg-6 col-md-8 mx-auto"},oo=(0,s.Uk)("   "),co={class:"row"},uo={class:"text-monospace col-lg-12 col-md-12 mx-auto"},po={class:"mx-auto my-4"},ho=Kl((()=>(0,s._)("hr",{class:"my-3"},null,-1))),wo={class:"text-muted lead"};function yo(e,t,n,a,i,l){return(0,s.wg)(),(0,s.iD)("section",Ql,[Jl,!1===i.showSummary?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[(0,s._)("table",eo,[(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("td",{key:e},[(0,s._)("img",{class:"button",onClick:t=>l.uncoverField(e-1),src:i.imgArr[e-1]},null,8,to)]))),64))]),(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("td",{key:e},[(0,s._)("img",{class:"button",onClick:t=>l.uncoverField(e+2),src:i.imgArr[e+2]},null,8,no)]))),64))]),(0,s._)("tr",null,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(3,(e=>(0,s._)("td",{key:e},[(0,s._)("img",{class:"button",onClick:t=>l.uncoverField(e+5),src:i.imgArr[e+5]},null,8,ao)]))),64))])]),(0,s._)("h1",so,"Card "+(0,r.zw)(i.currentCard)+" of "+(0,r.zw)(n.cards2Play),1),(0,s._)("span",ro,[(0,s._)("span",io,[(0,s._)("div",lo,[i.uncoveredWinningFields<3?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"btn btn-std my-2 btn-large",onClick:t[0]||(t[0]=(...e)=>l.uncoverAllFields&&l.uncoverAllFields(...e))}," Uncover all fields ")):i.currentCard<n.cards2Play?((0,s.wg)(),(0,s.iD)("button",{key:1,class:"btn btn-std my-2 btn-large",onClick:t[1]||(t[1]=(...e)=>l.showNextCard&&l.showNextCard(...e))}," Show next card ")):((0,s.wg)(),(0,s.iD)("button",{key:2,class:"btn btn-std my-2 btn-large",onClick:t[2]||(t[2]=(...e)=>l.showNextCard&&l.showNextCard(...e))}," Play again ")),oo,(0,s._)("button",{class:"btn btn-std my-2 btn-large",onClick:t[3]||(t[3]=e=>{i.showSummary=!0,i.currentCard=n.cards2Play})}," Show Summary ")])])]),(0,s._)("div",co,[(0,s._)("h3",uo,(0,r.zw)(i.feedbackMessage),1)])],64)):(0,s.kq)("",!0),!0===i.showSummary?((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[(0,s._)("table",po,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(i.winningsArr.length,(e=>((0,s.wg)(),(0,s.iD)("tr",{key:e,class:"text-muted lead"},(0,r.zw)(e)+". card won "+(0,r.zw)(i.winningsArr[e-1])+" SVC ",1)))),128)),ho,(0,s._)("tr",wo," Total won: "+(0,r.zw)(n.tokensWon),1)]),(0,s._)("button",{class:"btn btn-std my-2 btn-large",onClick:t[4]||(t[4]=(...e)=>l.showNextCard&&l.showNextCard(...e))}," Play again ")],64)):(0,s.kq)("",!0)])}const go=[5e3,2500,1e3,500,250,200,150,125,0];var mo={name:"App",props:["cards2Play","tokensWon","gameStats"],emits:["cardsPlayed"],data(){return{currentCard:1,winningsArr:[],imgArr:[],uncoveredImgArr:[],uncoveredWinningFields:0,showSummary:!1,feedbackMessage:""}},methods:{shuffle:function(e){let t,n=e.length;while(0!=n)t=Math.floor(Math.random()*n),n--,[e[n],e[t]]=[e[t],e[n]];return e},showNextCard:function(){this.currentCard++,this.currentCard>this.cards2Play?this.$emit("cardsPlayed"):this.showCard(this.currentCard)},uncoverField:function(e){let t="images/cards/"+this.uncoveredImgArr[e]+".png";if(this.imgArr[e]===t)return!1;this.imgArr[e]=t,console.log(this.uncoveredImgArr[e],this.winningsArr[this.currentCard-1]),Number(this.uncoveredImgArr[e])===Number(this.winningsArr[this.currentCard-1])&&(this.uncoveredWinningFields+=1),this.uncoveredWinningFields>=3&&(this.feedbackMessage="This card wins "+this.winningsArr[this.currentCard-1]+" SVC")},uncoverAllFields:function(){for(let e=0;e<9;++e)this.uncoverField(e)},showCard:function(e){console.log(e);const t=this.winningsArr[e-1];console.log("cardWins",t),this.feedbackMessage="",this.uncoveredWinningFields=0,this.imgArr=[],this.uncoveredImgArr=[];for(let s=0;s<9;++s)this.imgArr.push("images/cards/svc.png");let n=[],a=[];for(let s=0;s<go.length;++s){let e=go[s];if(Number(e)!==Number(t))for(let t=1;t<=2;++t)a.push(e)}console.log("nonwinningNumbers",a),this.shuffle(a),n=a.slice(0,6),console.log(n);for(let s=1;s<=3;++s)n.push(t);this.shuffle(n),this.uncoveredImgArr=this.shuffle(n)},buildWinningsArr:function(e,t){console.log(e);let n=[];for(const[a,s]of Object.entries(e)){console.log(`${a}: ${s}`);for(let e=0;e<s;++e)n.push(a)}for(let a=n.length;a<t;++a)n.push(0);console.log("_winningsArr before shuffle",n),this.winningsArr=this.shuffle(n),console.log("winningsArr after shuffle",this.winningsArr),this.showCard(1)},simulateGame:function(){let e=50,t=9500,n=2073862;this.extractGameInfo(e,t,n)},extractGameInfo:function(e,t,n){console.log("PlayCards:extractGameInfo"),console.log("You played",e,"cards");let a="";if(t<=0)return a="Unfortunately, you did not win anything! Better luck next time!",a;a="Congratulations! You won "+t+" SVC. \n\n";const s=[2057701,542351,111701,16151,1351,51,1],r=[5e3,2500,1e3,500,250,200,150];let i={};for(let l=0;l<s.length;++l)i[r[l]]=Math.floor(n/s[l]),n-=s[l]*i[r[l]],t-=r[l]*i[r[l]],a+=i[r[l]]>0?i[r[l]]+"x "+r[l]+" won, ":"";i[125]=Math.floor(t/125),a+=i[125]>0?i[125]+"x 125 won ":"",console.log(i),t-125*i[125]!==0?(console.log("Calculation did not work"),console.log("Rest",t-125*i[125])):console.log("Calculation worked"),console.log(a),this.buildWinningsArr(i,e)}},mounted:function(){console.log("Play Cards mounted");let e=this.cards2Play,t=this.tokensWon,n=this.gameStats;for(let a=0;a<=9;++a)this.imgArr.push("images/cards/svc.png");this.extractGameInfo(e,t,n)}};const fo=(0,R.Z)(mo,[["render",yo],["__scopeId","data-v-492cf412"]]);var ko=fo,bo={name:"App",components:{BuyCards:Gl,PlayCards:ko},data(){return{cards2Play:50,tokensWonE18:0,gameStats:0,showBuying:!0}},methods:{play:function(e,t,n){console.log(e,"cards were bought. Playing cards now"),console.log(t,"tokens won -- gameStats=",n),this.cards2Play=e,this.tokensWonE18=t,this.gameStats=n,this.showBuying=!1},buy:function(){console.log("Cards were played. Switch back to buying cards now"),this.showBuying=!0}}};const vo=(0,R.Z)(bo,[["render",ji]]);var To=vo;let Co=(0,a.ri)(I);const _o=[{path:"/my-reapers",component:qa},{path:"/all-reapers",component:Ps},{path:"/admin",component:Ge},{path:"/nftMint",component:Zt},{path:"/info",component:Rr},{path:"/tokenomics",component:qi},{path:"/cards",component:To},{path:"/",component:Zt}],Mo=(0,Xt.p7)({history:(0,Xt.PO)(),routes:_o});Co.use(Mo),Co.mount("#app")},8677:function(){},2808:function(){}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,s,r){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],s=e[c][1],r=e[c][2];for(var l=!0,o=0;o<a.length;o++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[o])}))?a.splice(o--,1):(l=!1,r<i&&(i=r));if(l){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,s,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,r,i=a[0],l=a[1],o=a[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(s in l)n.o(l,s)&&(n.m[s]=l[s]);if(o)var c=o(n)}for(t&&t(a);d<i.length;d++)r=i[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=self["webpackChunksurviville_staking"]=self["webpackChunksurviville_staking"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2088)}));a=n.O(a)})();
//# sourceMappingURL=app.d86c5fca.js.map